{"ast":null,"code":"import React from 'react';\nimport { getAnchoredPosition } from '@primer/behaviors';\nimport { useProvidedRefOrCreate } from './useProvidedRefOrCreate.js';\nimport { useResizeObserver } from './useResizeObserver.js';\nimport useIsomorphicLayoutEffect from '../utils/useIsomorphicLayoutEffect.js';\n\n/**\n * Calculates the top and left values for an absolutely-positioned floating element\n * to be anchored to some anchor element. Returns refs for the floating element\n * and the anchor element, along with the position.\n * @param settings Settings for calculating the anchored position.\n * @param dependencies Dependencies to determine when to re-calculate the position.\n * @returns An object of {top: number, left: number} to absolutely-position the\n * floating element.\n */\nfunction useAnchoredPosition(settings, dependencies = []) {\n  const floatingElementRef = useProvidedRefOrCreate(settings === null || settings === void 0 ? void 0 : settings.floatingElementRef);\n  const anchorElementRef = useProvidedRefOrCreate(settings === null || settings === void 0 ? void 0 : settings.anchorElementRef);\n  const [position, setPosition] = React.useState(undefined);\n  const updatePosition = React.useCallback(() => {\n    if (floatingElementRef.current instanceof Element && anchorElementRef.current instanceof Element) {\n      setPosition(getAnchoredPosition(floatingElementRef.current, anchorElementRef.current, settings));\n    } else {\n      setPosition(undefined);\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [floatingElementRef, anchorElementRef, ...dependencies]);\n  useIsomorphicLayoutEffect(updatePosition, [updatePosition]);\n  useResizeObserver(updatePosition);\n  return {\n    floatingElementRef,\n    anchorElementRef,\n    position\n  };\n}\nexport { useAnchoredPosition };","map":{"version":3,"names":["React","getAnchoredPosition","useProvidedRefOrCreate","useResizeObserver","useIsomorphicLayoutEffect","useAnchoredPosition","settings","dependencies","floatingElementRef","anchorElementRef","position","setPosition","useState","undefined","updatePosition","useCallback","current","Element"],"sources":["/Users/steve/Documents/repos/github/licensing/node_modules/@primer/react/lib-esm/hooks/useAnchoredPosition.js"],"sourcesContent":["import React from 'react';\nimport { getAnchoredPosition } from '@primer/behaviors';\nimport { useProvidedRefOrCreate } from './useProvidedRefOrCreate.js';\nimport { useResizeObserver } from './useResizeObserver.js';\nimport useIsomorphicLayoutEffect from '../utils/useIsomorphicLayoutEffect.js';\n\n/**\n * Calculates the top and left values for an absolutely-positioned floating element\n * to be anchored to some anchor element. Returns refs for the floating element\n * and the anchor element, along with the position.\n * @param settings Settings for calculating the anchored position.\n * @param dependencies Dependencies to determine when to re-calculate the position.\n * @returns An object of {top: number, left: number} to absolutely-position the\n * floating element.\n */\nfunction useAnchoredPosition(settings, dependencies = []) {\n  const floatingElementRef = useProvidedRefOrCreate(settings === null || settings === void 0 ? void 0 : settings.floatingElementRef);\n  const anchorElementRef = useProvidedRefOrCreate(settings === null || settings === void 0 ? void 0 : settings.anchorElementRef);\n  const [position, setPosition] = React.useState(undefined);\n  const updatePosition = React.useCallback(() => {\n    if (floatingElementRef.current instanceof Element && anchorElementRef.current instanceof Element) {\n      setPosition(getAnchoredPosition(floatingElementRef.current, anchorElementRef.current, settings));\n    } else {\n      setPosition(undefined);\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [floatingElementRef, anchorElementRef, ...dependencies]);\n  useIsomorphicLayoutEffect(updatePosition, [updatePosition]);\n  useResizeObserver(updatePosition);\n  return {\n    floatingElementRef,\n    anchorElementRef,\n    position\n  };\n}\n\nexport { useAnchoredPosition };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,mBAAmB,QAAQ,mBAAmB;AACvD,SAASC,sBAAsB,QAAQ,6BAA6B;AACpE,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,OAAOC,yBAAyB,MAAM,uCAAuC;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAmBA,CAACC,QAAQ,EAAEC,YAAY,GAAG,EAAE,EAAE;EACxD,MAAMC,kBAAkB,GAAGN,sBAAsB,CAACI,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACE,kBAAkB,CAAC;EAClI,MAAMC,gBAAgB,GAAGP,sBAAsB,CAACI,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACG,gBAAgB,CAAC;EAC9H,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,KAAK,CAACY,QAAQ,CAACC,SAAS,CAAC;EACzD,MAAMC,cAAc,GAAGd,KAAK,CAACe,WAAW,CAAC,MAAM;IAC7C,IAAIP,kBAAkB,CAACQ,OAAO,YAAYC,OAAO,IAAIR,gBAAgB,CAACO,OAAO,YAAYC,OAAO,EAAE;MAChGN,WAAW,CAACV,mBAAmB,CAACO,kBAAkB,CAACQ,OAAO,EAAEP,gBAAgB,CAACO,OAAO,EAAEV,QAAQ,CAAC,CAAC;IAClG,CAAC,MAAM;MACLK,WAAW,CAACE,SAAS,CAAC;IACxB;EACF,CAAC;EACD;EACA,CAACL,kBAAkB,EAAEC,gBAAgB,EAAE,GAAGF,YAAY,CAAC,CAAC;EACxDH,yBAAyB,CAACU,cAAc,EAAE,CAACA,cAAc,CAAC,CAAC;EAC3DX,iBAAiB,CAACW,cAAc,CAAC;EACjC,OAAO;IACLN,kBAAkB;IAClBC,gBAAgB;IAChBC;EACF,CAAC;AACH;AAEA,SAASL,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}