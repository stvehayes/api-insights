{"ast":null,"code":"import React, { useCallback } from 'react';\nimport '../../theme.js';\nimport '../../constants.js';\nimport '../../BaseStyles.js';\nimport '../../ThemeProvider.js';\nimport Box from '../../Box/Box.js';\nimport '@styled-system/css';\nimport 'deepmerge';\nimport '../../Button/types.js';\nimport '../../utils/defaultSxProp.js';\nimport '../../CounterLabel/CounterLabel.js';\nimport '../../Button/Button.js';\nimport '../../PageLayout/PageLayout.js';\nimport '../../SplitPageLayout/SplitPageLayout.js';\nimport '@primer/behaviors/utils';\nimport '../../ConfirmationDialog/ConfirmationDialog.js';\nimport '@primer/behaviors';\nimport '../../hooks/useMedia.js';\nimport '../../Radio/Radio.js';\nimport '../../ActionList/index.js';\nimport '../../ActionMenu/ActionMenu.js';\nimport '../../AnchoredOverlay/AnchoredOverlay.js';\nimport '../../Autocomplete/Autocomplete.js';\nimport '../../Avatar/Avatar.js';\nimport '../../AvatarPair/AvatarPair.js';\nimport '../../AvatarStack/AvatarStack.js';\nimport '../../BranchName/BranchName.js';\nimport '../../Breadcrumbs/Breadcrumbs.js';\nimport '../../ButtonGroup/ButtonGroup.js';\nimport '../../Caret.js';\nimport '../../CircleOcticon/CircleOcticon.js';\nimport '../../CheckboxGroup/CheckboxGroup.js';\nimport '../../CircleBadge/CircleBadge.js';\nimport '../../Details/Details.js';\nimport '../../Dialog.js';\nimport '../../Flash/Flash.js';\nimport '../../FormControl/_FormControlContext.js';\nimport '../../FormControl/FormControl.js';\nimport '../../Header/Header.js';\nimport '../../Heading/Heading.js';\nimport '../../Label/Label.js';\nimport '../../LabelGroup/LabelGroup.js';\nimport '../../Link/Link.js';\nimport '../../NavList/NavList.js';\nimport '../../Octicon/Octicon.js';\nimport '../../Overlay/Overlay.js';\nimport '../../Pagehead/Pagehead.js';\nimport '../../Pagination/Pagination.js';\nimport '../../PointerBox/PointerBox.js';\nimport '../../Popover/Popover.js';\nimport 'react-dom';\nimport '../../ProgressBar/index.js';\nimport '../../RadioGroup/RadioGroup.js';\nimport '../../RelativeTime/RelativeTime.js';\nimport '../../SegmentedControl/SegmentedControl.js';\nimport '../../Select.js';\nimport '../../SelectPanel/SelectPanel.js';\nimport '../../SideNav.js';\nimport StyledSpinner from '../../Spinner/Spinner.js';\nimport '../../StateLabel/StateLabel.js';\nimport '../../SubNav/SubNav.js';\nimport '../../ToggleSwitch/ToggleSwitch.js';\nimport '../../TabNav/TabNav.js';\nimport '../../TextInput/TextInput.js';\nimport '../../TextInputWithTokens/TextInputWithTokens.js';\nimport '../../Text/Text.js';\nimport '../../Timeline/Timeline.js';\nimport '../../Token/Token.js';\nimport '../../Token/IssueLabelToken.js';\nimport '../../Token/AvatarToken.js';\nimport '../../Tooltip/Tooltip.js';\nimport '../../Truncate/Truncate.js';\nimport '../../Checkbox/Checkbox.js';\nimport '../../Textarea/Textarea.js';\nimport '../../TreeView/TreeView.js';\nimport '../../UnderlineNav/index.js';\nimport { useLinkInterception } from './_useLinkInterception.js';\nimport { useListInteraction } from './_useListInteraction.js';\n\n/** @deprecated Will be removed in v37 (https://github.com/primer/react/issues/3604) */\nconst MarkdownViewer = ({\n  dangerousRenderedHTML,\n  loading = false,\n  markdownValue = '',\n  onChange: externalOnChange,\n  disabled = false,\n  onLinkClick,\n  openLinksInNewTab = false\n}) => {\n  // We're using state to store the HTML container because we want the value\n  // to re-run effects when it changes\n  const [htmlContainer, setHtmlContainer] = React.useState();\n  const htmlContainerRef = React.useCallback(node => {\n    if (!node) return;\n    setHtmlContainer(node);\n  }, []);\n  const onChange = useCallback(async value => {\n    try {\n      await (externalOnChange === null || externalOnChange === void 0 ? void 0 : externalOnChange(value));\n    } catch (error) {\n      if (htmlContainer) {\n        htmlContainer.innerHTML = dangerousRenderedHTML.__html;\n      }\n    }\n  }, [externalOnChange, htmlContainer, dangerousRenderedHTML]);\n  useListInteraction({\n    onChange,\n    disabled: disabled || !externalOnChange,\n    htmlContainer,\n    markdownValue,\n    dependencies: [dangerousRenderedHTML]\n  });\n  useLinkInterception({\n    htmlContainer,\n    onLinkClick,\n    openLinksInNewTab\n  });\n  return loading ? /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'space-around',\n      p: 2\n    }\n  }, /*#__PURE__*/React.createElement(StyledSpinner, {\n    \"aria-label\": \"Loading content...\"\n  })) : /*#__PURE__*/React.createElement(Box, {\n    ref: htmlContainerRef,\n    className: \"markdown-body\",\n    sx: {\n      fontSize: 1,\n      maxWidth: '100%',\n      '& > div > :last-child': {\n        mb: 0\n      }\n    },\n    dangerouslySetInnerHTML: dangerousRenderedHTML\n  });\n};\nexport { MarkdownViewer as default };","map":{"version":3,"names":["React","useCallback","Box","StyledSpinner","useLinkInterception","useListInteraction","MarkdownViewer","dangerousRenderedHTML","loading","markdownValue","onChange","externalOnChange","disabled","onLinkClick","openLinksInNewTab","htmlContainer","setHtmlContainer","useState","htmlContainerRef","node","value","error","innerHTML","__html","dependencies","createElement","sx","display","justifyContent","p","ref","className","fontSize","maxWidth","mb","dangerouslySetInnerHTML","default"],"sources":["/Users/steve/Documents/repos/github/api-insights/node_modules/@primer/react/lib-esm/drafts/MarkdownViewer/MarkdownViewer.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport '../../theme.js';\nimport '../../constants.js';\nimport '../../BaseStyles.js';\nimport '../../ThemeProvider.js';\nimport Box from '../../Box/Box.js';\nimport '@styled-system/css';\nimport 'deepmerge';\nimport '../../Button/types.js';\nimport '../../utils/defaultSxProp.js';\nimport '../../CounterLabel/CounterLabel.js';\nimport '../../Button/Button.js';\nimport '../../PageLayout/PageLayout.js';\nimport '../../SplitPageLayout/SplitPageLayout.js';\nimport '@primer/behaviors/utils';\nimport '../../ConfirmationDialog/ConfirmationDialog.js';\nimport '@primer/behaviors';\nimport '../../hooks/useMedia.js';\nimport '../../Radio/Radio.js';\nimport '../../ActionList/index.js';\nimport '../../ActionMenu/ActionMenu.js';\nimport '../../AnchoredOverlay/AnchoredOverlay.js';\nimport '../../Autocomplete/Autocomplete.js';\nimport '../../Avatar/Avatar.js';\nimport '../../AvatarPair/AvatarPair.js';\nimport '../../AvatarStack/AvatarStack.js';\nimport '../../BranchName/BranchName.js';\nimport '../../Breadcrumbs/Breadcrumbs.js';\nimport '../../ButtonGroup/ButtonGroup.js';\nimport '../../Caret.js';\nimport '../../CircleOcticon/CircleOcticon.js';\nimport '../../CheckboxGroup/CheckboxGroup.js';\nimport '../../CircleBadge/CircleBadge.js';\nimport '../../Details/Details.js';\nimport '../../Dialog.js';\nimport '../../Flash/Flash.js';\nimport '../../FormControl/_FormControlContext.js';\nimport '../../FormControl/FormControl.js';\nimport '../../Header/Header.js';\nimport '../../Heading/Heading.js';\nimport '../../Label/Label.js';\nimport '../../LabelGroup/LabelGroup.js';\nimport '../../Link/Link.js';\nimport '../../NavList/NavList.js';\nimport '../../Octicon/Octicon.js';\nimport '../../Overlay/Overlay.js';\nimport '../../Pagehead/Pagehead.js';\nimport '../../Pagination/Pagination.js';\nimport '../../PointerBox/PointerBox.js';\nimport '../../Popover/Popover.js';\nimport 'react-dom';\nimport '../../ProgressBar/index.js';\nimport '../../RadioGroup/RadioGroup.js';\nimport '../../RelativeTime/RelativeTime.js';\nimport '../../SegmentedControl/SegmentedControl.js';\nimport '../../Select.js';\nimport '../../SelectPanel/SelectPanel.js';\nimport '../../SideNav.js';\nimport StyledSpinner from '../../Spinner/Spinner.js';\nimport '../../StateLabel/StateLabel.js';\nimport '../../SubNav/SubNav.js';\nimport '../../ToggleSwitch/ToggleSwitch.js';\nimport '../../TabNav/TabNav.js';\nimport '../../TextInput/TextInput.js';\nimport '../../TextInputWithTokens/TextInputWithTokens.js';\nimport '../../Text/Text.js';\nimport '../../Timeline/Timeline.js';\nimport '../../Token/Token.js';\nimport '../../Token/IssueLabelToken.js';\nimport '../../Token/AvatarToken.js';\nimport '../../Tooltip/Tooltip.js';\nimport '../../Truncate/Truncate.js';\nimport '../../Checkbox/Checkbox.js';\nimport '../../Textarea/Textarea.js';\nimport '../../TreeView/TreeView.js';\nimport '../../UnderlineNav/index.js';\nimport { useLinkInterception } from './_useLinkInterception.js';\nimport { useListInteraction } from './_useListInteraction.js';\n\n/** @deprecated Will be removed in v37 (https://github.com/primer/react/issues/3604) */\nconst MarkdownViewer = ({\n  dangerousRenderedHTML,\n  loading = false,\n  markdownValue = '',\n  onChange: externalOnChange,\n  disabled = false,\n  onLinkClick,\n  openLinksInNewTab = false\n}) => {\n  // We're using state to store the HTML container because we want the value\n  // to re-run effects when it changes\n  const [htmlContainer, setHtmlContainer] = React.useState();\n  const htmlContainerRef = React.useCallback(node => {\n    if (!node) return;\n    setHtmlContainer(node);\n  }, []);\n  const onChange = useCallback(async value => {\n    try {\n      await (externalOnChange === null || externalOnChange === void 0 ? void 0 : externalOnChange(value));\n    } catch (error) {\n      if (htmlContainer) {\n        htmlContainer.innerHTML = dangerousRenderedHTML.__html;\n      }\n    }\n  }, [externalOnChange, htmlContainer, dangerousRenderedHTML]);\n  useListInteraction({\n    onChange,\n    disabled: disabled || !externalOnChange,\n    htmlContainer,\n    markdownValue,\n    dependencies: [dangerousRenderedHTML]\n  });\n  useLinkInterception({\n    htmlContainer,\n    onLinkClick,\n    openLinksInNewTab\n  });\n  return loading ? /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'space-around',\n      p: 2\n    }\n  }, /*#__PURE__*/React.createElement(StyledSpinner, {\n    \"aria-label\": \"Loading content...\"\n  })) : /*#__PURE__*/React.createElement(Box, {\n    ref: htmlContainerRef,\n    className: \"markdown-body\",\n    sx: {\n      fontSize: 1,\n      maxWidth: '100%',\n      '& > div > :last-child': {\n        mb: 0\n      }\n    },\n    dangerouslySetInnerHTML: dangerousRenderedHTML\n  });\n};\n\nexport { MarkdownViewer as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}