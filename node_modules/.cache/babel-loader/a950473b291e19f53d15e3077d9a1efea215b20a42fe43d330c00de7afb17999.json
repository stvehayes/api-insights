{"ast":null,"code":"import React from 'react';\nimport { warning } from '../utils/warning.js';\n\n/**\n * This custom hook simplifies the behavior of a component if it has state that\n * can be both controlled and uncontrolled. It functions identical to a\n * useState() hook and provides [state, setState] for you to use. You can use\n * the `onChange` argument to allow updates to the `state` to be communicated to\n * owners of controlled components.\n *\n * Note: This hook will warn if a component is switching from controlled to\n * uncontrolled, or vice-versa.\n */\nfunction useControllableState({\n  name = 'custom',\n  defaultValue,\n  value,\n  onChange\n}) {\n  const [state, internalSetState] = React.useState(value !== null && value !== void 0 ? value : defaultValue);\n  const controlled = React.useRef(null);\n  const stableOnChange = React.useRef(onChange);\n  React.useEffect(() => {\n    stableOnChange.current = onChange;\n  });\n  if (controlled.current === null) {\n    controlled.current = value !== undefined;\n  }\n  const setState = React.useCallback(stateOrUpdater => {\n    var _stableOnChange$curre;\n    const value = typeof stateOrUpdater === 'function' ?\n    // @ts-ignore stateOrUpdater is a function\n    stateOrUpdater(state) : stateOrUpdater;\n    if (controlled.current === false) {\n      internalSetState(value);\n    }\n    (_stableOnChange$curre = stableOnChange.current) === null || _stableOnChange$curre === void 0 ? void 0 : _stableOnChange$curre.call(stableOnChange, value);\n  }, [state]);\n  React.useEffect(() => {\n    const controlledValue = value !== undefined;\n\n    // Uncontrolled -> Controlled\n    // If the component prop is uncontrolled, the prop value should be undefined\n    if (controlled.current === false && controlledValue) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'A component is changing an uncontrolled %s component to be controlled. ' + 'This is likely caused by the value changing to a defined value ' + 'from undefined. Decide between using a controlled or uncontrolled ' + 'value for the lifetime of the component. ' + 'More info: https://reactjs.org/link/controlled-components', name) : void 0;\n    }\n\n    // Controlled -> Uncontrolled\n    // If the component prop is controlled, the prop value should be defined\n    if (controlled.current === true && !controlledValue) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'A component is changing a controlled %s component to be uncontrolled. ' + 'This is likely caused by the value changing to an undefined value ' + 'from a defined one. Decide between using a controlled or ' + 'uncontrolled value for the lifetime of the component. ' + 'More info: https://reactjs.org/link/controlled-components', name) : void 0;\n    }\n  }, [name, value]);\n  if (controlled.current === true) {\n    return [value, setState];\n  }\n  return [state, setState];\n}\nexport { useControllableState };","map":{"version":3,"names":["React","warning","useControllableState","name","defaultValue","value","onChange","state","internalSetState","useState","controlled","useRef","stableOnChange","useEffect","current","undefined","setState","useCallback","stateOrUpdater","_stableOnChange$curre","call","controlledValue","process","env","NODE_ENV"],"sources":["/Users/steve/Documents/repos/github/licensing-report/node_modules/@primer/react/lib-esm/hooks/useControllableState.js"],"sourcesContent":["import React from 'react';\nimport { warning } from '../utils/warning.js';\n\n/**\n * This custom hook simplifies the behavior of a component if it has state that\n * can be both controlled and uncontrolled. It functions identical to a\n * useState() hook and provides [state, setState] for you to use. You can use\n * the `onChange` argument to allow updates to the `state` to be communicated to\n * owners of controlled components.\n *\n * Note: This hook will warn if a component is switching from controlled to\n * uncontrolled, or vice-versa.\n */\nfunction useControllableState({\n  name = 'custom',\n  defaultValue,\n  value,\n  onChange\n}) {\n  const [state, internalSetState] = React.useState(value !== null && value !== void 0 ? value : defaultValue);\n  const controlled = React.useRef(null);\n  const stableOnChange = React.useRef(onChange);\n  React.useEffect(() => {\n    stableOnChange.current = onChange;\n  });\n  if (controlled.current === null) {\n    controlled.current = value !== undefined;\n  }\n  const setState = React.useCallback(stateOrUpdater => {\n    var _stableOnChange$curre;\n    const value = typeof stateOrUpdater === 'function' ?\n    // @ts-ignore stateOrUpdater is a function\n    stateOrUpdater(state) : stateOrUpdater;\n    if (controlled.current === false) {\n      internalSetState(value);\n    }\n    (_stableOnChange$curre = stableOnChange.current) === null || _stableOnChange$curre === void 0 ? void 0 : _stableOnChange$curre.call(stableOnChange, value);\n  }, [state]);\n  React.useEffect(() => {\n    const controlledValue = value !== undefined;\n\n    // Uncontrolled -> Controlled\n    // If the component prop is uncontrolled, the prop value should be undefined\n    if (controlled.current === false && controlledValue) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'A component is changing an uncontrolled %s component to be controlled. ' + 'This is likely caused by the value changing to a defined value ' + 'from undefined. Decide between using a controlled or uncontrolled ' + 'value for the lifetime of the component. ' + 'More info: https://reactjs.org/link/controlled-components', name) : void 0;\n    }\n\n    // Controlled -> Uncontrolled\n    // If the component prop is controlled, the prop value should be defined\n    if (controlled.current === true && !controlledValue) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'A component is changing a controlled %s component to be uncontrolled. ' + 'This is likely caused by the value changing to an undefined value ' + 'from a defined one. Decide between using a controlled or ' + 'uncontrolled value for the lifetime of the component. ' + 'More info: https://reactjs.org/link/controlled-components', name) : void 0;\n    }\n  }, [name, value]);\n  if (controlled.current === true) {\n    return [value, setState];\n  }\n  return [state, setState];\n}\n\nexport { useControllableState };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,qBAAqB;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,oBAAoBA,CAAC;EAC5BC,IAAI,GAAG,QAAQ;EACfC,YAAY;EACZC,KAAK;EACLC;AACF,CAAC,EAAE;EACD,MAAM,CAACC,KAAK,EAAEC,gBAAgB,CAAC,GAAGR,KAAK,CAACS,QAAQ,CAACJ,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAGA,KAAK,GAAGD,YAAY,CAAC;EAC3G,MAAMM,UAAU,GAAGV,KAAK,CAACW,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMC,cAAc,GAAGZ,KAAK,CAACW,MAAM,CAACL,QAAQ,CAAC;EAC7CN,KAAK,CAACa,SAAS,CAAC,MAAM;IACpBD,cAAc,CAACE,OAAO,GAAGR,QAAQ;EACnC,CAAC,CAAC;EACF,IAAII,UAAU,CAACI,OAAO,KAAK,IAAI,EAAE;IAC/BJ,UAAU,CAACI,OAAO,GAAGT,KAAK,KAAKU,SAAS;EAC1C;EACA,MAAMC,QAAQ,GAAGhB,KAAK,CAACiB,WAAW,CAACC,cAAc,IAAI;IACnD,IAAIC,qBAAqB;IACzB,MAAMd,KAAK,GAAG,OAAOa,cAAc,KAAK,UAAU;IAClD;IACAA,cAAc,CAACX,KAAK,CAAC,GAAGW,cAAc;IACtC,IAAIR,UAAU,CAACI,OAAO,KAAK,KAAK,EAAE;MAChCN,gBAAgB,CAACH,KAAK,CAAC;IACzB;IACA,CAACc,qBAAqB,GAAGP,cAAc,CAACE,OAAO,MAAM,IAAI,IAAIK,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACC,IAAI,CAACR,cAAc,EAAEP,KAAK,CAAC;EAC5J,CAAC,EAAE,CAACE,KAAK,CAAC,CAAC;EACXP,KAAK,CAACa,SAAS,CAAC,MAAM;IACpB,MAAMQ,eAAe,GAAGhB,KAAK,KAAKU,SAAS;;IAE3C;IACA;IACA,IAAIL,UAAU,CAACI,OAAO,KAAK,KAAK,IAAIO,eAAe,EAAE;MACnDC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGvB,OAAO,CAAC,IAAI,EAAE,yEAAyE,GAAG,iEAAiE,GAAG,oEAAoE,GAAG,2CAA2C,GAAG,2DAA2D,EAAEE,IAAI,CAAC,GAAG,KAAK,CAAC;IACxY;;IAEA;IACA;IACA,IAAIO,UAAU,CAACI,OAAO,KAAK,IAAI,IAAI,CAACO,eAAe,EAAE;MACnDC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGvB,OAAO,CAAC,IAAI,EAAE,wEAAwE,GAAG,oEAAoE,GAAG,2DAA2D,GAAG,wDAAwD,GAAG,2DAA2D,EAAEE,IAAI,CAAC,GAAG,KAAK,CAAC;IAC9Y;EACF,CAAC,EAAE,CAACA,IAAI,EAAEE,KAAK,CAAC,CAAC;EACjB,IAAIK,UAAU,CAACI,OAAO,KAAK,IAAI,EAAE;IAC/B,OAAO,CAACT,KAAK,EAAEW,QAAQ,CAAC;EAC1B;EACA,OAAO,CAACT,KAAK,EAAES,QAAQ,CAAC;AAC1B;AAEA,SAASd,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}