{"ast":null,"code":"import { ChevronDownIcon, ChevronRightIcon, FileDirectoryOpenFillIcon, FileDirectoryFillIcon } from '@primer/octicons-react';\nimport clsx from 'clsx';\nimport React, { useCallback, useEffect } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { ConfirmationDialog } from '../ConfirmationDialog/ConfirmationDialog.js';\nimport StyledSpinner from '../Spinner/Spinner.js';\nimport Text from '../Text/Text.js';\nimport VisuallyHidden from '../_VisuallyHidden.js';\nimport { get } from '../constants.js';\nimport { useControllableState } from '../hooks/useControllableState.js';\nimport { useId } from '../hooks/useId.js';\nimport useSafeTimeout from '../hooks/useSafeTimeout.js';\nimport { useSlots } from '../hooks/useSlots.js';\nimport sx from '../sx.js';\nimport { getAccessibleName } from './shared.js';\nimport { useRovingTabIndex, getFirstChildElement } from './useRovingTabIndex.js';\nimport { useTypeahead } from './useTypeahead.js';\n\n// ----------------------------------------------------------------------------\n// Context\n\nconst RootContext = /*#__PURE__*/React.createContext({\n  announceUpdate: () => {},\n  expandedStateCache: {\n    current: new Map()\n  }\n});\nconst ItemContext = /*#__PURE__*/React.createContext({\n  itemId: '',\n  level: 1,\n  isSubTreeEmpty: false,\n  setIsSubTreeEmpty: () => {},\n  isExpanded: false,\n  setIsExpanded: () => {},\n  leadingVisualId: '',\n  trailingVisualId: ''\n});\n\n// ----------------------------------------------------------------------------\n// TreeView\n\nconst UlBox = styled.ul.withConfig({\n  displayName: \"TreeView__UlBox\",\n  componentId: \"sc-4ex6b6-0\"\n})([\"list-style:none;padding:0;margin:0;.PRIVATE_TreeView-item{outline:none;&:focus-visible > div,&.focus-visible > div{box-shadow:inset 0 0 0 2px \", \";@media (forced-colors:active){outline:2px solid HighlightText;outline-offset:-2;}}}.PRIVATE_TreeView-item-container{--level:1;--toggle-width:1rem;position:relative;display:grid;grid-template-columns:calc(calc(var(--level) - 1) * (var(--toggle-width) / 2)) var(--toggle-width) 1fr;grid-template-areas:'spacer toggle content';width:100%;min-height:2rem;font-size:\", \";color:\", \";border-radius:\", \";cursor:pointer;&:hover{background-color:\", \";@media (forced-colors:active){outline:2px solid transparent;outline-offset:-2px;}}@media (pointer:coarse){--toggle-width:1.5rem;min-height:2.75rem;}&:has(.PRIVATE_TreeView-item-skeleton):hover{background-color:transparent;cursor:default;@media (forced-colors:active){outline:none;}}}&[data-omit-spacer='true'] .PRIVATE_TreeView-item-container{grid-template-columns:0 0 1fr;}.PRIVATE_TreeView-item[aria-current='true'] > .PRIVATE_TreeView-item-container{background-color:\", \";&::after{content:'';position:absolute;top:calc(50% - 0.75rem);left:-\", \";width:0.25rem;height:1.5rem;background-color:\", \";border-radius:\", \";@media (forced-colors:active){background-color:HighlightText;}}}.PRIVATE_TreeView-item-toggle{grid-area:toggle;display:flex;align-items:center;justify-content:center;height:100%;color:\", \";}.PRIVATE_TreeView-item-toggle--hover:hover{background-color:\", \";}.PRIVATE_TreeView-item-toggle--end{border-top-left-radius:\", \";border-bottom-left-radius:\", \";}.PRIVATE_TreeView-item-content{grid-area:content;display:flex;align-items:center;height:100%;padding:0 \", \";gap:\", \";}.PRIVATE_TreeView-item-content-text{flex:1 1 auto;width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.PRIVATE_TreeView-item-visual{display:flex;color:\", \";}.PRIVATE_TreeView-item-level-line{width:100%;height:100%;border-right:1px solid;border-color:\", \";}@media (hover:hover){.PRIVATE_TreeView-item-level-line{border-color:transparent;}&:hover .PRIVATE_TreeView-item-level-line,&:focus-within .PRIVATE_TreeView-item-level-line{border-color:\", \";}}.PRIVATE_TreeView-directory-icon{display:grid;color:\", \";}.PRIVATE_VisuallyHidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}\", \"\"], get(`colors.accent.fg`), get('fontSizes.1'), get('colors.fg.default'), get('radii.2'), get('colors.actionListItem.default.hoverBg'), get('colors.actionListItem.default.selectedBg'), get('space.2'), get('colors.accent.fg'), get('radii.2'), get('colors.fg.muted'), get('colors.treeViewItem.chevron.hoverBg'), get('radii.2'), get('radii.2'), get('space.2'), get('space.2'), get('colors.fg.muted'), get('colors.border.subtle'), get('colors.border.subtle'), get('colors.treeViewItem.directory.fill'), sx);\nconst Root = ({\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledby,\n  children,\n  flat\n}) => {\n  const containerRef = React.useRef(null);\n  const mouseDownRef = React.useRef(false);\n  const [ariaLiveMessage, setAriaLiveMessage] = React.useState('');\n  const announceUpdate = React.useCallback(message => {\n    setAriaLiveMessage(message);\n  }, []);\n  const onMouseDown = useCallback(() => {\n    mouseDownRef.current = true;\n  }, []);\n  useEffect(() => {\n    function onMouseUp() {\n      mouseDownRef.current = false;\n    }\n    document.addEventListener('mouseup', onMouseUp);\n    return () => {\n      document.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  useRovingTabIndex({\n    containerRef,\n    mouseDownRef\n  });\n  useTypeahead({\n    containerRef,\n    onFocusChange: element => {\n      if (element instanceof HTMLElement) {\n        element.focus();\n      }\n    }\n  });\n  const expandedStateCache = React.useRef(null);\n  if (expandedStateCache.current === null) {\n    expandedStateCache.current = new Map();\n  }\n  return /*#__PURE__*/React.createElement(RootContext.Provider, {\n    value: {\n      announceUpdate,\n      expandedStateCache\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(VisuallyHidden, {\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": \"true\"\n  }, ariaLiveMessage), /*#__PURE__*/React.createElement(UlBox, {\n    ref: containerRef,\n    role: \"tree\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledby,\n    \"data-omit-spacer\": flat,\n    onMouseDown: onMouseDown\n  }, children)));\n};\nRoot.displayName = \"Root\";\nRoot.displayName = 'TreeView';\n\n// ----------------------------------------------------------------------------\n// TreeView.Item\n\nconst Item = /*#__PURE__*/React.forwardRef(({\n  id: itemId,\n  containIntrinsicSize,\n  current: isCurrentItem = false,\n  defaultExpanded,\n  expanded,\n  onExpandedChange,\n  onSelect,\n  children\n}, ref) => {\n  const [slots, rest] = useSlots(children, {\n    leadingVisual: LeadingVisual,\n    trailingVisual: TrailingVisual\n  });\n  const {\n    expandedStateCache\n  } = React.useContext(RootContext);\n  const labelId = useId();\n  const leadingVisualId = useId();\n  const trailingVisualId = useId();\n  const [isExpanded, setIsExpanded] = useControllableState({\n    name: itemId,\n    // If the item was previously mounted, it's expanded state might be cached.\n    // We check the cache first, and then fall back to the defaultExpanded prop.\n    // If defaultExpanded is not provided, we default to false unless the item\n    // is the current item, in which case we default to true.\n    defaultValue: () => {\n      var _ref, _expandedStateCache$c, _expandedStateCache$c2;\n      return (_ref = (_expandedStateCache$c = (_expandedStateCache$c2 = expandedStateCache.current) === null || _expandedStateCache$c2 === void 0 ? void 0 : _expandedStateCache$c2.get(itemId)) !== null && _expandedStateCache$c !== void 0 ? _expandedStateCache$c : defaultExpanded) !== null && _ref !== void 0 ? _ref : isCurrentItem;\n    },\n    value: expanded,\n    onChange: onExpandedChange\n  });\n  const {\n    level\n  } = React.useContext(ItemContext);\n  const {\n    hasSubTree,\n    subTree,\n    childrenWithoutSubTree\n  } = useSubTree(rest);\n  const [isSubTreeEmpty, setIsSubTreeEmpty] = React.useState(!hasSubTree);\n  const [isFocused, setIsFocused] = React.useState(false);\n\n  // Set the expanded state and cache it\n  const setIsExpandedWithCache = React.useCallback(newIsExpanded => {\n    var _expandedStateCache$c3;\n    setIsExpanded(newIsExpanded);\n    (_expandedStateCache$c3 = expandedStateCache.current) === null || _expandedStateCache$c3 === void 0 ? void 0 : _expandedStateCache$c3.set(itemId, newIsExpanded);\n  }, [itemId, setIsExpanded, expandedStateCache]);\n\n  // Expand or collapse the subtree\n  const toggle = React.useCallback(event => {\n    setIsExpandedWithCache(!isExpanded);\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n  }, [isExpanded, setIsExpandedWithCache]);\n  const handleKeyDown = React.useCallback(event => {\n    switch (event.key) {\n      case 'Enter':\n        if (onSelect) {\n          onSelect(event);\n        } else {\n          toggle(event);\n        }\n        event.stopPropagation();\n        break;\n      case 'ArrowRight':\n        // Ignore if modifier keys are pressed\n        if (event.altKey || event.metaKey) return;\n        event.preventDefault();\n        event.stopPropagation();\n        setIsExpandedWithCache(true);\n        break;\n      case 'ArrowLeft':\n        // Ignore if modifier keys are pressed\n        if (event.altKey || event.metaKey) return;\n        event.preventDefault();\n        event.stopPropagation();\n        setIsExpandedWithCache(false);\n        break;\n    }\n  }, [onSelect, setIsExpandedWithCache, toggle]);\n  return /*#__PURE__*/React.createElement(ItemContext.Provider, {\n    value: {\n      itemId,\n      level: level + 1,\n      isSubTreeEmpty,\n      setIsSubTreeEmpty,\n      isExpanded,\n      setIsExpanded: setIsExpandedWithCache,\n      leadingVisualId,\n      trailingVisualId\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"PRIVATE_TreeView-item\",\n    ref: ref,\n    tabIndex: 0,\n    id: itemId,\n    role: \"treeitem\",\n    \"aria-labelledby\": labelId,\n    \"aria-describedby\": `${leadingVisualId} ${trailingVisualId}`,\n    \"aria-level\": level,\n    \"aria-expanded\": isSubTreeEmpty ? undefined : isExpanded,\n    \"aria-current\": isCurrentItem ? 'true' : undefined,\n    \"aria-selected\": isFocused ? 'true' : 'false',\n    onKeyDown: handleKeyDown,\n    onFocus: event => {\n      var _event$currentTarget$;\n      // Scroll the first child into view when the item receives focus\n      (_event$currentTarget$ = event.currentTarget.firstElementChild) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n\n      // Set the focused state\n      setIsFocused(true);\n\n      // Prevent focus event from bubbling up to parent items\n      event.stopPropagation();\n    },\n    onBlur: () => setIsFocused(false),\n    onClick: event => {\n      if (onSelect) {\n        onSelect(event);\n      } else {\n        toggle(event);\n      }\n      event.stopPropagation();\n    },\n    onAuxClick: event => {\n      if (onSelect && event.button === 1) {\n        onSelect(event);\n      }\n      event.stopPropagation();\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-item-container\",\n    style: {\n      // @ts-ignore CSS custom property\n      '--level': level,\n      contentVisibility: containIntrinsicSize ? 'auto' : undefined,\n      containIntrinsicSize\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      gridArea: 'spacer',\n      display: 'flex'\n    }\n  }, /*#__PURE__*/React.createElement(LevelIndicatorLines, {\n    level: level\n  })), hasSubTree ? /*#__PURE__*/\n  // This lint rule is disabled due to the guidelines in the `TreeView` api docs.\n  // https://github.com/github/primer/blob/main/apis/tree-view-api.md#the-expandcollapse-chevron-toggle\n  // This has specific advice that the chevron be available only to pointer event.\n  // If they take up a button role, they become unnecessary and numerous tab stops.\n  // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n  React.createElement(\"div\", {\n    className: clsx('PRIVATE_TreeView-item-toggle', onSelect && 'PRIVATE_TreeView-item-toggle--hover', level === 1 && 'PRIVATE_TreeView-item-toggle--end'),\n    onClick: event => {\n      if (onSelect) {\n        toggle(event);\n      }\n    }\n  }, isExpanded ? /*#__PURE__*/React.createElement(ChevronDownIcon, {\n    size: 12\n  }) : /*#__PURE__*/React.createElement(ChevronRightIcon, {\n    size: 12\n  })) : null, /*#__PURE__*/React.createElement(\"div\", {\n    id: labelId,\n    className: \"PRIVATE_TreeView-item-content\"\n  }, slots.leadingVisual, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"PRIVATE_TreeView-item-content-text\"\n  }, childrenWithoutSubTree), slots.trailingVisual)), subTree));\n});\n\n/** Lines to indicate the depth of an item in a TreeView */\nconst LevelIndicatorLines = ({\n  level\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex'\n    }\n  }, Array.from({\n    length: level - 1\n  }).map((_, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"PRIVATE_TreeView-item-level-line\"\n  })));\n};\nLevelIndicatorLines.displayName = \"LevelIndicatorLines\";\nItem.displayName = 'TreeView.Item';\n\n// ----------------------------------------------------------------------------\n// TreeView.SubTree\n\nconst SubTree = ({\n  count,\n  state,\n  children\n}) => {\n  const {\n    announceUpdate\n  } = React.useContext(RootContext);\n  const {\n    itemId,\n    isExpanded,\n    isSubTreeEmpty,\n    setIsSubTreeEmpty\n  } = React.useContext(ItemContext);\n  const loadingItemRef = React.useRef(null);\n  const ref = React.useRef(null);\n  const [loadingFocused, setLoadingFocused] = React.useState(false);\n  const previousState = usePreviousValue(state);\n  const {\n    safeSetTimeout\n  } = useSafeTimeout();\n  React.useEffect(() => {\n    // If `state` is undefined, we're working in a synchronous context and need\n    // to detect if the sub-tree has content. If `state === 'done` then we're\n    // working in an asynchronous context and need to see if there is content\n    // that has been loaded in.\n    if (state === undefined || state === 'done') {\n      if (!isSubTreeEmpty && !children) {\n        setIsSubTreeEmpty(true);\n      } else if (isSubTreeEmpty && children) {\n        setIsSubTreeEmpty(false);\n      }\n    }\n  }, [state, isSubTreeEmpty, setIsSubTreeEmpty, children]);\n\n  // Handle transition from loading to done state\n  React.useEffect(() => {\n    if (previousState === 'loading' && state === 'done') {\n      var _ref$current;\n      const parentElement = document.getElementById(itemId);\n      if (!parentElement) return;\n\n      // Announce update to screen readers\n      const parentName = getAccessibleName(parentElement);\n      if ((_ref$current = ref.current) !== null && _ref$current !== void 0 && _ref$current.childElementCount) {\n        announceUpdate(`${parentName} content loaded`);\n      } else {\n        announceUpdate(`${parentName} is empty`);\n      }\n\n      // Move focus to the first child if the loading indicator\n      // was focused when the async items finished loading\n      if (loadingFocused) {\n        const firstChild = getFirstChildElement(parentElement);\n        if (firstChild) {\n          safeSetTimeout(() => {\n            firstChild.focus();\n          });\n        } else {\n          safeSetTimeout(() => {\n            parentElement.focus();\n          });\n        }\n        setLoadingFocused(false);\n      }\n    }\n  }, [loadingFocused, previousState, state, itemId, announceUpdate, ref, safeSetTimeout]);\n\n  // Track focus on the loading indicator\n  React.useEffect(() => {\n    function handleFocus() {\n      setLoadingFocused(true);\n    }\n    function handleBlur(event) {\n      // Skip blur events that are caused by the element being removed from the DOM.\n      // This can happen when the loading indicator is focused when async items are\n      // done loading and the loading indicator is removed from the DOM.\n      // If `loadingFocused` is `true` when `state` is `\"done\"` then the loading indicator\n      // was focused when the async items finished loading and we need to move focus to the\n      // first child.\n      if (!event.relatedTarget) return;\n      setLoadingFocused(false);\n    }\n    const loadingElement = loadingItemRef.current;\n    if (!loadingElement) return;\n    loadingElement.addEventListener('focus', handleFocus);\n    loadingElement.addEventListener('blur', handleBlur);\n    return () => {\n      loadingElement.removeEventListener('focus', handleFocus);\n      loadingElement.removeEventListener('blur', handleBlur);\n    };\n  }, [loadingItemRef, state]);\n  if (!isExpanded) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    role: \"group\",\n    style: {\n      listStyle: 'none',\n      padding: 0,\n      margin: 0\n    }\n    // @ts-ignore Box doesn't have type support for `ref` used in combination with `as`\n    ,\n\n    ref: ref\n  }, state === 'loading' ? /*#__PURE__*/React.createElement(LoadingItem, {\n    ref: loadingItemRef,\n    count: count\n  }) : children);\n};\nSubTree.displayName = \"SubTree\";\nSubTree.displayName = 'TreeView.SubTree';\nfunction usePreviousValue(value) {\n  const ref = React.useRef(value);\n  React.useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\nconst shimmer = keyframes([\"from{mask-position:200%;}to{mask-position:0%;}\"]);\nconst SkeletonItem = styled.span.attrs({\n  className: 'PRIVATE_TreeView-item-skeleton'\n}).withConfig({\n  displayName: \"TreeView__SkeletonItem\",\n  componentId: \"sc-4ex6b6-1\"\n})([\"display:flex;align-items:center;column-gap:0.5rem;height:2rem;@media (pointer:coarse){height:2.75rem;}@media (prefers-reduced-motion:no-preference){mask-image:linear-gradient(75deg,#000 30%,rgba(0,0,0,0.65) 80%);mask-size:200%;animation:\", \";animation-duration:1s;animation-iteration-count:infinite;}&::before{content:'';display:block;width:1rem;height:1rem;background-color:\", \";border-radius:3px;@media (forced-colors:active){outline:1px solid transparent;outline-offset:-1px;}}&::after{content:'';display:block;width:var(--tree-item-loading-width,67%);height:1rem;background-color:\", \";border-radius:3px;@media (forced-colors:active){outline:1px solid transparent;outline-offset:-1px;}}&:nth-of-type(5n + 1){--tree-item-loading-width:67%;}&:nth-of-type(5n + 2){--tree-item-loading-width:47%;}&:nth-of-type(5n + 3){--tree-item-loading-width:73%;}&:nth-of-type(5n + 4){--tree-item-loading-width:64%;}&:nth-of-type(5n + 5){--tree-item-loading-width:50%;}\"], shimmer, get('colors.neutral.subtle'), get('colors.neutral.subtle'));\nconst LoadingItem = /*#__PURE__*/React.forwardRef(({\n  count\n}, ref) => {\n  const itemId = useId();\n  if (count) {\n    return /*#__PURE__*/React.createElement(Item, {\n      id: itemId,\n      ref: ref\n    }, Array.from({\n      length: count\n    }).map((_, i) => {\n      return /*#__PURE__*/React.createElement(SkeletonItem, {\n        \"aria-hidden\": true,\n        key: i\n      });\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"PRIVATE_VisuallyHidden\"\n    }, \"Loading \", count, \" items\"));\n  }\n  return /*#__PURE__*/React.createElement(Item, {\n    id: itemId,\n    ref: ref\n  }, /*#__PURE__*/React.createElement(LeadingVisual, null, /*#__PURE__*/React.createElement(StyledSpinner, {\n    size: \"small\"\n  })), /*#__PURE__*/React.createElement(Text, {\n    sx: {\n      color: 'fg.muted'\n    }\n  }, \"Loading...\"));\n});\nfunction useSubTree(children) {\n  return React.useMemo(() => {\n    const subTree = React.Children.toArray(children).find(child => /*#__PURE__*/React.isValidElement(child) && child.type === SubTree);\n    const childrenWithoutSubTree = React.Children.toArray(children).filter(child => !( /*#__PURE__*/React.isValidElement(child) && child.type === SubTree));\n    return {\n      subTree,\n      childrenWithoutSubTree,\n      hasSubTree: Boolean(subTree)\n    };\n  }, [children]);\n}\n\n// ----------------------------------------------------------------------------\n// TreeView.LeadingVisual and TreeView.TrailingVisual\n\nconst LeadingVisual = props => {\n  const {\n    isExpanded,\n    leadingVisualId\n  } = React.useContext(ItemContext);\n  const children = typeof props.children === 'function' ? props.children({\n    isExpanded\n  }) : props.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_VisuallyHidden\",\n    \"aria-hidden\": true,\n    id: leadingVisualId\n  }, props.label), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-item-visual\",\n    \"aria-hidden\": true\n  }, children));\n};\nLeadingVisual.displayName = 'TreeView.LeadingVisual';\nconst TrailingVisual = props => {\n  const {\n    isExpanded,\n    trailingVisualId\n  } = React.useContext(ItemContext);\n  const children = typeof props.children === 'function' ? props.children({\n    isExpanded\n  }) : props.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_VisuallyHidden\",\n    \"aria-hidden\": true,\n    id: trailingVisualId\n  }, props.label), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-item-visual\",\n    \"aria-hidden\": true\n  }, children));\n};\nTrailingVisual.displayName = 'TreeView.TrailingVisual';\n\n// ----------------------------------------------------------------------------\n// TreeView.DirectoryIcon\n\nconst DirectoryIcon = () => {\n  const {\n    isExpanded\n  } = React.useContext(ItemContext);\n  const Icon = isExpanded ? FileDirectoryOpenFillIcon : FileDirectoryFillIcon;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-directory-icon\"\n  }, /*#__PURE__*/React.createElement(Icon, null));\n};\nDirectoryIcon.displayName = \"DirectoryIcon\"; // ----------------------------------------------------------------------------\n// TreeView.ErrorDialog\nconst ErrorDialog = ({\n  title = 'Error',\n  children,\n  onRetry,\n  onDismiss\n}) => {\n  const {\n    itemId,\n    setIsExpanded\n  } = React.useContext(ItemContext);\n  return /*#__PURE__*/(\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    React.createElement(\"div\", {\n      onKeyDown: event => {\n        if (['Backspace', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Enter'].includes(event.key)) {\n          // Prevent keyboard events from bubbling up to the TreeView\n          // and interfering with keyboard navigation\n          event.stopPropagation();\n        }\n      }\n    }, /*#__PURE__*/React.createElement(ConfirmationDialog, {\n      title: title,\n      onClose: gesture => {\n        // Focus parent item after the dialog is closed\n        setTimeout(() => {\n          const parentElement = document.getElementById(itemId);\n          parentElement === null || parentElement === void 0 ? void 0 : parentElement.focus();\n        });\n        if (gesture === 'confirm') {\n          onRetry === null || onRetry === void 0 ? void 0 : onRetry();\n        } else {\n          setIsExpanded(false);\n          onDismiss === null || onDismiss === void 0 ? void 0 : onDismiss();\n        }\n      },\n      confirmButtonContent: \"Retry\",\n      cancelButtonContent: \"Dismiss\"\n    }, children))\n  );\n};\nErrorDialog.displayName = \"ErrorDialog\";\nErrorDialog.displayName = 'TreeView.ErrorDialog';\n\n// ----------------------------------------------------------------------------\n// Export\n\nconst TreeView = Object.assign(Root, {\n  Item,\n  SubTree,\n  LeadingVisual,\n  TrailingVisual,\n  DirectoryIcon,\n  ErrorDialog\n});\nexport { TreeView };","map":{"version":3,"names":["ChevronDownIcon","ChevronRightIcon","FileDirectoryOpenFillIcon","FileDirectoryFillIcon","clsx","React","useCallback","useEffect","styled","keyframes","ConfirmationDialog","StyledSpinner","Text","VisuallyHidden","get","useControllableState","useId","useSafeTimeout","useSlots","sx","getAccessibleName","useRovingTabIndex","getFirstChildElement","useTypeahead","RootContext","createContext","announceUpdate","expandedStateCache","current","Map","ItemContext","itemId","level","isSubTreeEmpty","setIsSubTreeEmpty","isExpanded","setIsExpanded","leadingVisualId","trailingVisualId","UlBox","ul","withConfig","displayName","componentId","Root","ariaLabel","ariaLabelledby","children","flat","containerRef","useRef","mouseDownRef","ariaLiveMessage","setAriaLiveMessage","useState","message","onMouseDown","onMouseUp","document","addEventListener","removeEventListener","onFocusChange","element","HTMLElement","focus","createElement","Provider","value","Fragment","role","ref","Item","forwardRef","id","containIntrinsicSize","isCurrentItem","defaultExpanded","expanded","onExpandedChange","onSelect","slots","rest","leadingVisual","LeadingVisual","trailingVisual","TrailingVisual","useContext","labelId","name","defaultValue","_ref","_expandedStateCache$c","_expandedStateCache$c2","onChange","hasSubTree","subTree","childrenWithoutSubTree","useSubTree","isFocused","setIsFocused","setIsExpandedWithCache","newIsExpanded","_expandedStateCache$c3","set","toggle","event","stopPropagation","handleKeyDown","key","altKey","metaKey","preventDefault","className","tabIndex","undefined","onKeyDown","onFocus","_event$currentTarget$","currentTarget","firstElementChild","scrollIntoView","block","inline","onBlur","onClick","onAuxClick","button","style","contentVisibility","gridArea","display","LevelIndicatorLines","size","width","Array","from","length","map","_","index","SubTree","count","state","loadingItemRef","loadingFocused","setLoadingFocused","previousState","usePreviousValue","safeSetTimeout","_ref$current","parentElement","getElementById","parentName","childElementCount","firstChild","handleFocus","handleBlur","relatedTarget","loadingElement","listStyle","padding","margin","LoadingItem","shimmer","SkeletonItem","span","attrs","i","color","useMemo","Children","toArray","find","child","isValidElement","type","filter","Boolean","props","label","DirectoryIcon","Icon","ErrorDialog","title","onRetry","onDismiss","includes","onClose","gesture","setTimeout","confirmButtonContent","cancelButtonContent","TreeView","Object","assign"],"sources":["/Users/steve/Documents/repos/github/licensing/node_modules/@primer/react/lib-esm/TreeView/TreeView.js"],"sourcesContent":["import { ChevronDownIcon, ChevronRightIcon, FileDirectoryOpenFillIcon, FileDirectoryFillIcon } from '@primer/octicons-react';\nimport clsx from 'clsx';\nimport React, { useCallback, useEffect } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { ConfirmationDialog } from '../ConfirmationDialog/ConfirmationDialog.js';\nimport StyledSpinner from '../Spinner/Spinner.js';\nimport Text from '../Text/Text.js';\nimport VisuallyHidden from '../_VisuallyHidden.js';\nimport { get } from '../constants.js';\nimport { useControllableState } from '../hooks/useControllableState.js';\nimport { useId } from '../hooks/useId.js';\nimport useSafeTimeout from '../hooks/useSafeTimeout.js';\nimport { useSlots } from '../hooks/useSlots.js';\nimport sx from '../sx.js';\nimport { getAccessibleName } from './shared.js';\nimport { useRovingTabIndex, getFirstChildElement } from './useRovingTabIndex.js';\nimport { useTypeahead } from './useTypeahead.js';\n\n// ----------------------------------------------------------------------------\n// Context\n\nconst RootContext = /*#__PURE__*/React.createContext({\n  announceUpdate: () => {},\n  expandedStateCache: {\n    current: new Map()\n  }\n});\nconst ItemContext = /*#__PURE__*/React.createContext({\n  itemId: '',\n  level: 1,\n  isSubTreeEmpty: false,\n  setIsSubTreeEmpty: () => {},\n  isExpanded: false,\n  setIsExpanded: () => {},\n  leadingVisualId: '',\n  trailingVisualId: ''\n});\n\n// ----------------------------------------------------------------------------\n// TreeView\n\nconst UlBox = styled.ul.withConfig({\n  displayName: \"TreeView__UlBox\",\n  componentId: \"sc-4ex6b6-0\"\n})([\"list-style:none;padding:0;margin:0;.PRIVATE_TreeView-item{outline:none;&:focus-visible > div,&.focus-visible > div{box-shadow:inset 0 0 0 2px \", \";@media (forced-colors:active){outline:2px solid HighlightText;outline-offset:-2;}}}.PRIVATE_TreeView-item-container{--level:1;--toggle-width:1rem;position:relative;display:grid;grid-template-columns:calc(calc(var(--level) - 1) * (var(--toggle-width) / 2)) var(--toggle-width) 1fr;grid-template-areas:'spacer toggle content';width:100%;min-height:2rem;font-size:\", \";color:\", \";border-radius:\", \";cursor:pointer;&:hover{background-color:\", \";@media (forced-colors:active){outline:2px solid transparent;outline-offset:-2px;}}@media (pointer:coarse){--toggle-width:1.5rem;min-height:2.75rem;}&:has(.PRIVATE_TreeView-item-skeleton):hover{background-color:transparent;cursor:default;@media (forced-colors:active){outline:none;}}}&[data-omit-spacer='true'] .PRIVATE_TreeView-item-container{grid-template-columns:0 0 1fr;}.PRIVATE_TreeView-item[aria-current='true'] > .PRIVATE_TreeView-item-container{background-color:\", \";&::after{content:'';position:absolute;top:calc(50% - 0.75rem);left:-\", \";width:0.25rem;height:1.5rem;background-color:\", \";border-radius:\", \";@media (forced-colors:active){background-color:HighlightText;}}}.PRIVATE_TreeView-item-toggle{grid-area:toggle;display:flex;align-items:center;justify-content:center;height:100%;color:\", \";}.PRIVATE_TreeView-item-toggle--hover:hover{background-color:\", \";}.PRIVATE_TreeView-item-toggle--end{border-top-left-radius:\", \";border-bottom-left-radius:\", \";}.PRIVATE_TreeView-item-content{grid-area:content;display:flex;align-items:center;height:100%;padding:0 \", \";gap:\", \";}.PRIVATE_TreeView-item-content-text{flex:1 1 auto;width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.PRIVATE_TreeView-item-visual{display:flex;color:\", \";}.PRIVATE_TreeView-item-level-line{width:100%;height:100%;border-right:1px solid;border-color:\", \";}@media (hover:hover){.PRIVATE_TreeView-item-level-line{border-color:transparent;}&:hover .PRIVATE_TreeView-item-level-line,&:focus-within .PRIVATE_TreeView-item-level-line{border-color:\", \";}}.PRIVATE_TreeView-directory-icon{display:grid;color:\", \";}.PRIVATE_VisuallyHidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}\", \"\"], get(`colors.accent.fg`), get('fontSizes.1'), get('colors.fg.default'), get('radii.2'), get('colors.actionListItem.default.hoverBg'), get('colors.actionListItem.default.selectedBg'), get('space.2'), get('colors.accent.fg'), get('radii.2'), get('colors.fg.muted'), get('colors.treeViewItem.chevron.hoverBg'), get('radii.2'), get('radii.2'), get('space.2'), get('space.2'), get('colors.fg.muted'), get('colors.border.subtle'), get('colors.border.subtle'), get('colors.treeViewItem.directory.fill'), sx);\nconst Root = ({\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledby,\n  children,\n  flat\n}) => {\n  const containerRef = React.useRef(null);\n  const mouseDownRef = React.useRef(false);\n  const [ariaLiveMessage, setAriaLiveMessage] = React.useState('');\n  const announceUpdate = React.useCallback(message => {\n    setAriaLiveMessage(message);\n  }, []);\n  const onMouseDown = useCallback(() => {\n    mouseDownRef.current = true;\n  }, []);\n  useEffect(() => {\n    function onMouseUp() {\n      mouseDownRef.current = false;\n    }\n    document.addEventListener('mouseup', onMouseUp);\n    return () => {\n      document.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  useRovingTabIndex({\n    containerRef,\n    mouseDownRef\n  });\n  useTypeahead({\n    containerRef,\n    onFocusChange: element => {\n      if (element instanceof HTMLElement) {\n        element.focus();\n      }\n    }\n  });\n  const expandedStateCache = React.useRef(null);\n  if (expandedStateCache.current === null) {\n    expandedStateCache.current = new Map();\n  }\n  return /*#__PURE__*/React.createElement(RootContext.Provider, {\n    value: {\n      announceUpdate,\n      expandedStateCache\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(VisuallyHidden, {\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": \"true\"\n  }, ariaLiveMessage), /*#__PURE__*/React.createElement(UlBox, {\n    ref: containerRef,\n    role: \"tree\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledby,\n    \"data-omit-spacer\": flat,\n    onMouseDown: onMouseDown\n  }, children)));\n};\nRoot.displayName = \"Root\";\nRoot.displayName = 'TreeView';\n\n// ----------------------------------------------------------------------------\n// TreeView.Item\n\nconst Item = /*#__PURE__*/React.forwardRef(({\n  id: itemId,\n  containIntrinsicSize,\n  current: isCurrentItem = false,\n  defaultExpanded,\n  expanded,\n  onExpandedChange,\n  onSelect,\n  children\n}, ref) => {\n  const [slots, rest] = useSlots(children, {\n    leadingVisual: LeadingVisual,\n    trailingVisual: TrailingVisual\n  });\n  const {\n    expandedStateCache\n  } = React.useContext(RootContext);\n  const labelId = useId();\n  const leadingVisualId = useId();\n  const trailingVisualId = useId();\n  const [isExpanded, setIsExpanded] = useControllableState({\n    name: itemId,\n    // If the item was previously mounted, it's expanded state might be cached.\n    // We check the cache first, and then fall back to the defaultExpanded prop.\n    // If defaultExpanded is not provided, we default to false unless the item\n    // is the current item, in which case we default to true.\n    defaultValue: () => {\n      var _ref, _expandedStateCache$c, _expandedStateCache$c2;\n      return (_ref = (_expandedStateCache$c = (_expandedStateCache$c2 = expandedStateCache.current) === null || _expandedStateCache$c2 === void 0 ? void 0 : _expandedStateCache$c2.get(itemId)) !== null && _expandedStateCache$c !== void 0 ? _expandedStateCache$c : defaultExpanded) !== null && _ref !== void 0 ? _ref : isCurrentItem;\n    },\n    value: expanded,\n    onChange: onExpandedChange\n  });\n  const {\n    level\n  } = React.useContext(ItemContext);\n  const {\n    hasSubTree,\n    subTree,\n    childrenWithoutSubTree\n  } = useSubTree(rest);\n  const [isSubTreeEmpty, setIsSubTreeEmpty] = React.useState(!hasSubTree);\n  const [isFocused, setIsFocused] = React.useState(false);\n\n  // Set the expanded state and cache it\n  const setIsExpandedWithCache = React.useCallback(newIsExpanded => {\n    var _expandedStateCache$c3;\n    setIsExpanded(newIsExpanded);\n    (_expandedStateCache$c3 = expandedStateCache.current) === null || _expandedStateCache$c3 === void 0 ? void 0 : _expandedStateCache$c3.set(itemId, newIsExpanded);\n  }, [itemId, setIsExpanded, expandedStateCache]);\n\n  // Expand or collapse the subtree\n  const toggle = React.useCallback(event => {\n    setIsExpandedWithCache(!isExpanded);\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n  }, [isExpanded, setIsExpandedWithCache]);\n  const handleKeyDown = React.useCallback(event => {\n    switch (event.key) {\n      case 'Enter':\n        if (onSelect) {\n          onSelect(event);\n        } else {\n          toggle(event);\n        }\n        event.stopPropagation();\n        break;\n      case 'ArrowRight':\n        // Ignore if modifier keys are pressed\n        if (event.altKey || event.metaKey) return;\n        event.preventDefault();\n        event.stopPropagation();\n        setIsExpandedWithCache(true);\n        break;\n      case 'ArrowLeft':\n        // Ignore if modifier keys are pressed\n        if (event.altKey || event.metaKey) return;\n        event.preventDefault();\n        event.stopPropagation();\n        setIsExpandedWithCache(false);\n        break;\n    }\n  }, [onSelect, setIsExpandedWithCache, toggle]);\n  return /*#__PURE__*/React.createElement(ItemContext.Provider, {\n    value: {\n      itemId,\n      level: level + 1,\n      isSubTreeEmpty,\n      setIsSubTreeEmpty,\n      isExpanded,\n      setIsExpanded: setIsExpandedWithCache,\n      leadingVisualId,\n      trailingVisualId\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"PRIVATE_TreeView-item\",\n    ref: ref,\n    tabIndex: 0,\n    id: itemId,\n    role: \"treeitem\",\n    \"aria-labelledby\": labelId,\n    \"aria-describedby\": `${leadingVisualId} ${trailingVisualId}`,\n    \"aria-level\": level,\n    \"aria-expanded\": isSubTreeEmpty ? undefined : isExpanded,\n    \"aria-current\": isCurrentItem ? 'true' : undefined,\n    \"aria-selected\": isFocused ? 'true' : 'false',\n    onKeyDown: handleKeyDown,\n    onFocus: event => {\n      var _event$currentTarget$;\n      // Scroll the first child into view when the item receives focus\n      (_event$currentTarget$ = event.currentTarget.firstElementChild) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n\n      // Set the focused state\n      setIsFocused(true);\n\n      // Prevent focus event from bubbling up to parent items\n      event.stopPropagation();\n    },\n    onBlur: () => setIsFocused(false),\n    onClick: event => {\n      if (onSelect) {\n        onSelect(event);\n      } else {\n        toggle(event);\n      }\n      event.stopPropagation();\n    },\n    onAuxClick: event => {\n      if (onSelect && event.button === 1) {\n        onSelect(event);\n      }\n      event.stopPropagation();\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-item-container\",\n    style: {\n      // @ts-ignore CSS custom property\n      '--level': level,\n      contentVisibility: containIntrinsicSize ? 'auto' : undefined,\n      containIntrinsicSize\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      gridArea: 'spacer',\n      display: 'flex'\n    }\n  }, /*#__PURE__*/React.createElement(LevelIndicatorLines, {\n    level: level\n  })), hasSubTree ?\n  /*#__PURE__*/\n  // This lint rule is disabled due to the guidelines in the `TreeView` api docs.\n  // https://github.com/github/primer/blob/main/apis/tree-view-api.md#the-expandcollapse-chevron-toggle\n  // This has specific advice that the chevron be available only to pointer event.\n  // If they take up a button role, they become unnecessary and numerous tab stops.\n  // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n  React.createElement(\"div\", {\n    className: clsx('PRIVATE_TreeView-item-toggle', onSelect && 'PRIVATE_TreeView-item-toggle--hover', level === 1 && 'PRIVATE_TreeView-item-toggle--end'),\n    onClick: event => {\n      if (onSelect) {\n        toggle(event);\n      }\n    }\n  }, isExpanded ? /*#__PURE__*/React.createElement(ChevronDownIcon, {\n    size: 12\n  }) : /*#__PURE__*/React.createElement(ChevronRightIcon, {\n    size: 12\n  })) : null, /*#__PURE__*/React.createElement(\"div\", {\n    id: labelId,\n    className: \"PRIVATE_TreeView-item-content\"\n  }, slots.leadingVisual, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"PRIVATE_TreeView-item-content-text\"\n  }, childrenWithoutSubTree), slots.trailingVisual)), subTree));\n});\n\n/** Lines to indicate the depth of an item in a TreeView */\nconst LevelIndicatorLines = ({\n  level\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex'\n    }\n  }, Array.from({\n    length: level - 1\n  }).map((_, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"PRIVATE_TreeView-item-level-line\"\n  })));\n};\nLevelIndicatorLines.displayName = \"LevelIndicatorLines\";\nItem.displayName = 'TreeView.Item';\n\n// ----------------------------------------------------------------------------\n// TreeView.SubTree\n\nconst SubTree = ({\n  count,\n  state,\n  children\n}) => {\n  const {\n    announceUpdate\n  } = React.useContext(RootContext);\n  const {\n    itemId,\n    isExpanded,\n    isSubTreeEmpty,\n    setIsSubTreeEmpty\n  } = React.useContext(ItemContext);\n  const loadingItemRef = React.useRef(null);\n  const ref = React.useRef(null);\n  const [loadingFocused, setLoadingFocused] = React.useState(false);\n  const previousState = usePreviousValue(state);\n  const {\n    safeSetTimeout\n  } = useSafeTimeout();\n  React.useEffect(() => {\n    // If `state` is undefined, we're working in a synchronous context and need\n    // to detect if the sub-tree has content. If `state === 'done` then we're\n    // working in an asynchronous context and need to see if there is content\n    // that has been loaded in.\n    if (state === undefined || state === 'done') {\n      if (!isSubTreeEmpty && !children) {\n        setIsSubTreeEmpty(true);\n      } else if (isSubTreeEmpty && children) {\n        setIsSubTreeEmpty(false);\n      }\n    }\n  }, [state, isSubTreeEmpty, setIsSubTreeEmpty, children]);\n\n  // Handle transition from loading to done state\n  React.useEffect(() => {\n    if (previousState === 'loading' && state === 'done') {\n      var _ref$current;\n      const parentElement = document.getElementById(itemId);\n      if (!parentElement) return;\n\n      // Announce update to screen readers\n      const parentName = getAccessibleName(parentElement);\n      if ((_ref$current = ref.current) !== null && _ref$current !== void 0 && _ref$current.childElementCount) {\n        announceUpdate(`${parentName} content loaded`);\n      } else {\n        announceUpdate(`${parentName} is empty`);\n      }\n\n      // Move focus to the first child if the loading indicator\n      // was focused when the async items finished loading\n      if (loadingFocused) {\n        const firstChild = getFirstChildElement(parentElement);\n        if (firstChild) {\n          safeSetTimeout(() => {\n            firstChild.focus();\n          });\n        } else {\n          safeSetTimeout(() => {\n            parentElement.focus();\n          });\n        }\n        setLoadingFocused(false);\n      }\n    }\n  }, [loadingFocused, previousState, state, itemId, announceUpdate, ref, safeSetTimeout]);\n\n  // Track focus on the loading indicator\n  React.useEffect(() => {\n    function handleFocus() {\n      setLoadingFocused(true);\n    }\n    function handleBlur(event) {\n      // Skip blur events that are caused by the element being removed from the DOM.\n      // This can happen when the loading indicator is focused when async items are\n      // done loading and the loading indicator is removed from the DOM.\n      // If `loadingFocused` is `true` when `state` is `\"done\"` then the loading indicator\n      // was focused when the async items finished loading and we need to move focus to the\n      // first child.\n      if (!event.relatedTarget) return;\n      setLoadingFocused(false);\n    }\n    const loadingElement = loadingItemRef.current;\n    if (!loadingElement) return;\n    loadingElement.addEventListener('focus', handleFocus);\n    loadingElement.addEventListener('blur', handleBlur);\n    return () => {\n      loadingElement.removeEventListener('focus', handleFocus);\n      loadingElement.removeEventListener('blur', handleBlur);\n    };\n  }, [loadingItemRef, state]);\n  if (!isExpanded) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    role: \"group\",\n    style: {\n      listStyle: 'none',\n      padding: 0,\n      margin: 0\n    }\n    // @ts-ignore Box doesn't have type support for `ref` used in combination with `as`\n    ,\n    ref: ref\n  }, state === 'loading' ? /*#__PURE__*/React.createElement(LoadingItem, {\n    ref: loadingItemRef,\n    count: count\n  }) : children);\n};\nSubTree.displayName = \"SubTree\";\nSubTree.displayName = 'TreeView.SubTree';\nfunction usePreviousValue(value) {\n  const ref = React.useRef(value);\n  React.useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\nconst shimmer = keyframes([\"from{mask-position:200%;}to{mask-position:0%;}\"]);\nconst SkeletonItem = styled.span.attrs({\n  className: 'PRIVATE_TreeView-item-skeleton'\n}).withConfig({\n  displayName: \"TreeView__SkeletonItem\",\n  componentId: \"sc-4ex6b6-1\"\n})([\"display:flex;align-items:center;column-gap:0.5rem;height:2rem;@media (pointer:coarse){height:2.75rem;}@media (prefers-reduced-motion:no-preference){mask-image:linear-gradient(75deg,#000 30%,rgba(0,0,0,0.65) 80%);mask-size:200%;animation:\", \";animation-duration:1s;animation-iteration-count:infinite;}&::before{content:'';display:block;width:1rem;height:1rem;background-color:\", \";border-radius:3px;@media (forced-colors:active){outline:1px solid transparent;outline-offset:-1px;}}&::after{content:'';display:block;width:var(--tree-item-loading-width,67%);height:1rem;background-color:\", \";border-radius:3px;@media (forced-colors:active){outline:1px solid transparent;outline-offset:-1px;}}&:nth-of-type(5n + 1){--tree-item-loading-width:67%;}&:nth-of-type(5n + 2){--tree-item-loading-width:47%;}&:nth-of-type(5n + 3){--tree-item-loading-width:73%;}&:nth-of-type(5n + 4){--tree-item-loading-width:64%;}&:nth-of-type(5n + 5){--tree-item-loading-width:50%;}\"], shimmer, get('colors.neutral.subtle'), get('colors.neutral.subtle'));\nconst LoadingItem = /*#__PURE__*/React.forwardRef(({\n  count\n}, ref) => {\n  const itemId = useId();\n  if (count) {\n    return /*#__PURE__*/React.createElement(Item, {\n      id: itemId,\n      ref: ref\n    }, Array.from({\n      length: count\n    }).map((_, i) => {\n      return /*#__PURE__*/React.createElement(SkeletonItem, {\n        \"aria-hidden\": true,\n        key: i\n      });\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"PRIVATE_VisuallyHidden\"\n    }, \"Loading \", count, \" items\"));\n  }\n  return /*#__PURE__*/React.createElement(Item, {\n    id: itemId,\n    ref: ref\n  }, /*#__PURE__*/React.createElement(LeadingVisual, null, /*#__PURE__*/React.createElement(StyledSpinner, {\n    size: \"small\"\n  })), /*#__PURE__*/React.createElement(Text, {\n    sx: {\n      color: 'fg.muted'\n    }\n  }, \"Loading...\"));\n});\nfunction useSubTree(children) {\n  return React.useMemo(() => {\n    const subTree = React.Children.toArray(children).find(child => /*#__PURE__*/React.isValidElement(child) && child.type === SubTree);\n    const childrenWithoutSubTree = React.Children.toArray(children).filter(child => !( /*#__PURE__*/React.isValidElement(child) && child.type === SubTree));\n    return {\n      subTree,\n      childrenWithoutSubTree,\n      hasSubTree: Boolean(subTree)\n    };\n  }, [children]);\n}\n\n// ----------------------------------------------------------------------------\n// TreeView.LeadingVisual and TreeView.TrailingVisual\n\nconst LeadingVisual = props => {\n  const {\n    isExpanded,\n    leadingVisualId\n  } = React.useContext(ItemContext);\n  const children = typeof props.children === 'function' ? props.children({\n    isExpanded\n  }) : props.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_VisuallyHidden\",\n    \"aria-hidden\": true,\n    id: leadingVisualId\n  }, props.label), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-item-visual\",\n    \"aria-hidden\": true\n  }, children));\n};\nLeadingVisual.displayName = 'TreeView.LeadingVisual';\nconst TrailingVisual = props => {\n  const {\n    isExpanded,\n    trailingVisualId\n  } = React.useContext(ItemContext);\n  const children = typeof props.children === 'function' ? props.children({\n    isExpanded\n  }) : props.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_VisuallyHidden\",\n    \"aria-hidden\": true,\n    id: trailingVisualId\n  }, props.label), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-item-visual\",\n    \"aria-hidden\": true\n  }, children));\n};\nTrailingVisual.displayName = 'TreeView.TrailingVisual';\n\n// ----------------------------------------------------------------------------\n// TreeView.DirectoryIcon\n\nconst DirectoryIcon = () => {\n  const {\n    isExpanded\n  } = React.useContext(ItemContext);\n  const Icon = isExpanded ? FileDirectoryOpenFillIcon : FileDirectoryFillIcon;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PRIVATE_TreeView-directory-icon\"\n  }, /*#__PURE__*/React.createElement(Icon, null));\n};\nDirectoryIcon.displayName = \"DirectoryIcon\"; // ----------------------------------------------------------------------------\n// TreeView.ErrorDialog\nconst ErrorDialog = ({\n  title = 'Error',\n  children,\n  onRetry,\n  onDismiss\n}) => {\n  const {\n    itemId,\n    setIsExpanded\n  } = React.useContext(ItemContext);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    React.createElement(\"div\", {\n      onKeyDown: event => {\n        if (['Backspace', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Enter'].includes(event.key)) {\n          // Prevent keyboard events from bubbling up to the TreeView\n          // and interfering with keyboard navigation\n          event.stopPropagation();\n        }\n      }\n    }, /*#__PURE__*/React.createElement(ConfirmationDialog, {\n      title: title,\n      onClose: gesture => {\n        // Focus parent item after the dialog is closed\n        setTimeout(() => {\n          const parentElement = document.getElementById(itemId);\n          parentElement === null || parentElement === void 0 ? void 0 : parentElement.focus();\n        });\n        if (gesture === 'confirm') {\n          onRetry === null || onRetry === void 0 ? void 0 : onRetry();\n        } else {\n          setIsExpanded(false);\n          onDismiss === null || onDismiss === void 0 ? void 0 : onDismiss();\n        }\n      },\n      confirmButtonContent: \"Retry\",\n      cancelButtonContent: \"Dismiss\"\n    }, children))\n  );\n};\nErrorDialog.displayName = \"ErrorDialog\";\nErrorDialog.displayName = 'TreeView.ErrorDialog';\n\n// ----------------------------------------------------------------------------\n// Export\n\nconst TreeView = Object.assign(Root, {\n  Item,\n  SubTree,\n  LeadingVisual,\n  TrailingVisual,\n  DirectoryIcon,\n  ErrorDialog\n});\n\nexport { TreeView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}