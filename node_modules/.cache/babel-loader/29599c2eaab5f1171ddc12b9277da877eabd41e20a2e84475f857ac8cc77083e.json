{"ast":null,"code":"const MAX_SUGGESTIONS = 5;\nconst suggestionsCalculator = (options, score, toSuggestion) => async query => {\n  if (options === 'loading') return 'loading';\n  const optionsArray = Array.isArray(options) ? options : await options();\n\n  // If the query is empty, scores will be -INFINITY\n  const scoredAndSorted = query ? optionsArray.map(o => [score(query, o), o]).filter(([s]) => s > 0).sort(([a], [b]) => b - a).slice(0, MAX_SUGGESTIONS).map(([, o]) => o) : optionsArray.slice(0, MAX_SUGGESTIONS);\n  return scoredAndSorted.map(toSuggestion);\n};\nexport { suggestionsCalculator };","map":{"version":3,"names":["MAX_SUGGESTIONS","suggestionsCalculator","options","score","toSuggestion","query","optionsArray","Array","isArray","scoredAndSorted","map","o","filter","s","sort","a","b","slice"],"sources":["/Users/steve/Documents/repos/github/api-insights/node_modules/@primer/react/lib-esm/drafts/MarkdownEditor/suggestions/index.js"],"sourcesContent":["const MAX_SUGGESTIONS = 5;\nconst suggestionsCalculator = (options, score, toSuggestion) => async query => {\n  if (options === 'loading') return 'loading';\n  const optionsArray = Array.isArray(options) ? options : await options();\n\n  // If the query is empty, scores will be -INFINITY\n  const scoredAndSorted = query ? optionsArray.map(o => [score(query, o), o]).filter(([s]) => s > 0).sort(([a], [b]) => b - a).slice(0, MAX_SUGGESTIONS).map(([, o]) => o) : optionsArray.slice(0, MAX_SUGGESTIONS);\n  return scoredAndSorted.map(toSuggestion);\n};\n\nexport { suggestionsCalculator };\n"],"mappings":"AAAA,MAAMA,eAAe,GAAG,CAAC;AACzB,MAAMC,qBAAqB,GAAGA,CAACC,OAAO,EAAEC,KAAK,EAAEC,YAAY,KAAK,MAAMC,KAAK,IAAI;EAC7E,IAAIH,OAAO,KAAK,SAAS,EAAE,OAAO,SAAS;EAC3C,MAAMI,YAAY,GAAGC,KAAK,CAACC,OAAO,CAACN,OAAO,CAAC,GAAGA,OAAO,GAAG,MAAMA,OAAO,CAAC,CAAC;;EAEvE;EACA,MAAMO,eAAe,GAAGJ,KAAK,GAAGC,YAAY,CAACI,GAAG,CAACC,CAAC,IAAI,CAACR,KAAK,CAACE,KAAK,EAAEM,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE,CAACC,CAAC,CAAC,KAAKA,CAAC,GAAGD,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,EAAEjB,eAAe,CAAC,CAACU,GAAG,CAAC,CAAC,GAAGC,CAAC,CAAC,KAAKA,CAAC,CAAC,GAAGL,YAAY,CAACW,KAAK,CAAC,CAAC,EAAEjB,eAAe,CAAC;EACjN,OAAOS,eAAe,CAACC,GAAG,CAACN,YAAY,CAAC;AAC1C,CAAC;AAED,SAASH,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}