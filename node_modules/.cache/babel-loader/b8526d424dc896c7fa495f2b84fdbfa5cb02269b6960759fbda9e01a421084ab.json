{"ast":null,"code":"import React from 'react';\nimport { VisuallyHidden } from './VisuallyHidden.js';\nconst LiveRegionContext = /*#__PURE__*/React.createContext(null);\nfunction useLiveRegion() {\n  const context = React.useContext(LiveRegionContext);\n  if (!context) {\n    throw new Error('useLiveRegion() must be used within a <LiveRegion>');\n  }\n  return context;\n}\nfunction LiveRegion({\n  children\n}) {\n  const [message, setMessage] = React.useState('');\n  const value = React.useMemo(() => {\n    return {\n      announce: setMessage,\n      message\n    };\n  }, [message]);\n  return /*#__PURE__*/React.createElement(LiveRegionContext.Provider, {\n    value: value\n  }, children);\n}\nLiveRegion.displayName = \"LiveRegion\";\nfunction LiveRegionOutlet() {\n  const liveRegion = useLiveRegion();\n  return /*#__PURE__*/React.createElement(VisuallyHidden, {\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": true\n  }, liveRegion.message);\n}\nLiveRegionOutlet.displayName = \"LiveRegionOutlet\";\nfunction Message({\n  value\n}) {\n  const liveRegion = useLiveRegion();\n  const savedLiveRegion = React.useRef(liveRegion);\n  const committedRef = React.useRef(false);\n  React.useEffect(() => {\n    savedLiveRegion.current = liveRegion;\n  }, [liveRegion]);\n  React.useEffect(() => {\n    if (committedRef.current !== true) {\n      return;\n    }\n    const timeoutId = setTimeout(() => {\n      savedLiveRegion.current.announce(value);\n    }, 750);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [value]);\n  React.useEffect(() => {\n    committedRef.current = true;\n    return () => {\n      committedRef.current = false;\n    };\n  }, []);\n  return null;\n}\nexport { LiveRegion, LiveRegionOutlet, Message, useLiveRegion };","map":{"version":3,"names":["React","VisuallyHidden","LiveRegionContext","createContext","useLiveRegion","context","useContext","Error","LiveRegion","children","message","setMessage","useState","value","useMemo","announce","createElement","Provider","displayName","LiveRegionOutlet","liveRegion","role","Message","savedLiveRegion","useRef","committedRef","useEffect","current","timeoutId","setTimeout","clearTimeout"],"sources":["/Users/steve/Documents/repos/github/billing-usage/node_modules/@primer/react/lib-esm/internal/components/LiveRegion.js"],"sourcesContent":["import React from 'react';\nimport { VisuallyHidden } from './VisuallyHidden.js';\n\nconst LiveRegionContext = /*#__PURE__*/React.createContext(null);\nfunction useLiveRegion() {\n  const context = React.useContext(LiveRegionContext);\n  if (!context) {\n    throw new Error('useLiveRegion() must be used within a <LiveRegion>');\n  }\n  return context;\n}\nfunction LiveRegion({\n  children\n}) {\n  const [message, setMessage] = React.useState('');\n  const value = React.useMemo(() => {\n    return {\n      announce: setMessage,\n      message\n    };\n  }, [message]);\n  return /*#__PURE__*/React.createElement(LiveRegionContext.Provider, {\n    value: value\n  }, children);\n}\nLiveRegion.displayName = \"LiveRegion\";\nfunction LiveRegionOutlet() {\n  const liveRegion = useLiveRegion();\n  return /*#__PURE__*/React.createElement(VisuallyHidden, {\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": true\n  }, liveRegion.message);\n}\nLiveRegionOutlet.displayName = \"LiveRegionOutlet\";\nfunction Message({\n  value\n}) {\n  const liveRegion = useLiveRegion();\n  const savedLiveRegion = React.useRef(liveRegion);\n  const committedRef = React.useRef(false);\n  React.useEffect(() => {\n    savedLiveRegion.current = liveRegion;\n  }, [liveRegion]);\n  React.useEffect(() => {\n    if (committedRef.current !== true) {\n      return;\n    }\n    const timeoutId = setTimeout(() => {\n      savedLiveRegion.current.announce(value);\n    }, 750);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [value]);\n  React.useEffect(() => {\n    committedRef.current = true;\n    return () => {\n      committedRef.current = false;\n    };\n  }, []);\n  return null;\n}\n\nexport { LiveRegion, LiveRegionOutlet, Message, useLiveRegion };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,qBAAqB;AAEpD,MAAMC,iBAAiB,GAAG,aAAaF,KAAK,CAACG,aAAa,CAAC,IAAI,CAAC;AAChE,SAASC,aAAaA,CAAA,EAAG;EACvB,MAAMC,OAAO,GAAGL,KAAK,CAACM,UAAU,CAACJ,iBAAiB,CAAC;EACnD,IAAI,CAACG,OAAO,EAAE;IACZ,MAAM,IAAIE,KAAK,CAAC,oDAAoD,CAAC;EACvE;EACA,OAAOF,OAAO;AAChB;AACA,SAASG,UAAUA,CAAC;EAClBC;AACF,CAAC,EAAE;EACD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAMC,KAAK,GAAGb,KAAK,CAACc,OAAO,CAAC,MAAM;IAChC,OAAO;MACLC,QAAQ,EAAEJ,UAAU;MACpBD;IACF,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,OAAO,aAAaV,KAAK,CAACgB,aAAa,CAACd,iBAAiB,CAACe,QAAQ,EAAE;IAClEJ,KAAK,EAAEA;EACT,CAAC,EAAEJ,QAAQ,CAAC;AACd;AACAD,UAAU,CAACU,WAAW,GAAG,YAAY;AACrC,SAASC,gBAAgBA,CAAA,EAAG;EAC1B,MAAMC,UAAU,GAAGhB,aAAa,CAAC,CAAC;EAClC,OAAO,aAAaJ,KAAK,CAACgB,aAAa,CAACf,cAAc,EAAE;IACtDoB,IAAI,EAAE,QAAQ;IACd,WAAW,EAAE,QAAQ;IACrB,aAAa,EAAE;EACjB,CAAC,EAAED,UAAU,CAACV,OAAO,CAAC;AACxB;AACAS,gBAAgB,CAACD,WAAW,GAAG,kBAAkB;AACjD,SAASI,OAAOA,CAAC;EACfT;AACF,CAAC,EAAE;EACD,MAAMO,UAAU,GAAGhB,aAAa,CAAC,CAAC;EAClC,MAAMmB,eAAe,GAAGvB,KAAK,CAACwB,MAAM,CAACJ,UAAU,CAAC;EAChD,MAAMK,YAAY,GAAGzB,KAAK,CAACwB,MAAM,CAAC,KAAK,CAAC;EACxCxB,KAAK,CAAC0B,SAAS,CAAC,MAAM;IACpBH,eAAe,CAACI,OAAO,GAAGP,UAAU;EACtC,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAChBpB,KAAK,CAAC0B,SAAS,CAAC,MAAM;IACpB,IAAID,YAAY,CAACE,OAAO,KAAK,IAAI,EAAE;MACjC;IACF;IACA,MAAMC,SAAS,GAAGC,UAAU,CAAC,MAAM;MACjCN,eAAe,CAACI,OAAO,CAACZ,QAAQ,CAACF,KAAK,CAAC;IACzC,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAM;MACXiB,YAAY,CAACF,SAAS,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,CAACf,KAAK,CAAC,CAAC;EACXb,KAAK,CAAC0B,SAAS,CAAC,MAAM;IACpBD,YAAY,CAACE,OAAO,GAAG,IAAI;IAC3B,OAAO,MAAM;MACXF,YAAY,CAACE,OAAO,GAAG,KAAK;IAC9B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,IAAI;AACb;AAEA,SAASnB,UAAU,EAAEW,gBAAgB,EAAEG,OAAO,EAAElB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}