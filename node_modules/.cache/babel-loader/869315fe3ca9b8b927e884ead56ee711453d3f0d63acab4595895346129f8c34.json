{"ast":null,"code":"import React, { forwardRef, useRef, useContext } from 'react';\nimport Box from '../Box/Box.js';\nimport '@styled-system/css';\nimport merge from 'deepmerge';\nimport { UnderlineNavContext } from './UnderlineNavContext.js';\nimport CounterLabel from '../CounterLabel/CounterLabel.js';\nimport { getLinkStyles, iconWrapStyles, counterStyles } from './styles.js';\nimport { LoadingCounter } from './LoadingCounter.js';\nimport useIsomorphicLayoutEffect from '../utils/useIsomorphicLayoutEffect.js';\nimport { defaultSxProp } from '../utils/defaultSxProp.js';\nimport Link from '../Link/Link.js';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// adopted from React.AnchorHTMLAttributes\n\nconst UnderlineNavItem = /*#__PURE__*/forwardRef(({\n  sx: sxProp = defaultSxProp,\n  as: Component = 'a',\n  href = '#',\n  children,\n  counter,\n  onSelect,\n  'aria-current': ariaCurrent,\n  icon: Icon,\n  ...props\n}, forwardedRef) => {\n  const backupRef = useRef(null);\n  const ref = forwardedRef !== null && forwardedRef !== void 0 ? forwardedRef : backupRef;\n  const {\n    theme,\n    setChildrenWidth,\n    setNoIconChildrenWidth,\n    loadingCounters,\n    iconsVisible\n  } = useContext(UnderlineNavContext);\n  useIsomorphicLayoutEffect(() => {\n    if (ref.current) {\n      const domRect = ref.current.getBoundingClientRect();\n      const icon = Array.from(ref.current.children).find(child => child.getAttribute('data-component') === 'icon');\n      const content = Array.from(ref.current.children).find(child => child.getAttribute('data-component') === 'text');\n      const text = content.textContent;\n      const iconWidthWithMargin = icon ? icon.getBoundingClientRect().width + Number(getComputedStyle(icon).marginRight.slice(0, -2)) + Number(getComputedStyle(icon).marginLeft.slice(0, -2)) : 0;\n      setChildrenWidth({\n        text,\n        width: domRect.width\n      });\n      setNoIconChildrenWidth({\n        text,\n        width: domRect.width - iconWidthWithMargin\n      });\n    }\n  }, [ref, setChildrenWidth, setNoIconChildrenWidth]);\n  const keyDownHandler = React.useCallback(event => {\n    if ((event.key === ' ' || event.key === 'Enter') && !event.defaultPrevented && typeof onSelect === 'function') {\n      onSelect(event);\n    }\n  }, [onSelect]);\n  const clickHandler = React.useCallback(event => {\n    if (!event.defaultPrevented && typeof onSelect === 'function') {\n      onSelect(event);\n    }\n  }, [onSelect]);\n  return /*#__PURE__*/React.createElement(Box, {\n    as: \"li\",\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/React.createElement(Link, _extends({\n    ref: ref,\n    as: Component,\n    href: href,\n    \"aria-current\": ariaCurrent,\n    onKeyDown: keyDownHandler,\n    onClick: clickHandler,\n    sx: merge(getLinkStyles(theme, ariaCurrent), sxProp)\n  }, props), iconsVisible && Icon && /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"icon\",\n    sx: iconWrapStyles\n  }, /*#__PURE__*/React.createElement(Icon, null)), children && /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"text\",\n    \"data-content\": children,\n    sx: Boolean(ariaCurrent) && ariaCurrent !== 'false' ? {\n      fontWeight: 600\n    } : {}\n  }, children), loadingCounters ? /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"counter\",\n    sx: counterStyles\n  }, /*#__PURE__*/React.createElement(LoadingCounter, null)) : counter !== undefined && /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"counter\",\n    sx: counterStyles\n  }, /*#__PURE__*/React.createElement(CounterLabel, null, counter))));\n});\nUnderlineNavItem.displayName = 'UnderlineNavItem';\nexport { UnderlineNavItem };","map":{"version":3,"names":["React","forwardRef","useRef","useContext","Box","merge","UnderlineNavContext","CounterLabel","getLinkStyles","iconWrapStyles","counterStyles","LoadingCounter","useIsomorphicLayoutEffect","defaultSxProp","Link","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","UnderlineNavItem","sx","sxProp","as","Component","href","children","counter","onSelect","ariaCurrent","icon","Icon","props","forwardedRef","backupRef","ref","theme","setChildrenWidth","setNoIconChildrenWidth","loadingCounters","iconsVisible","current","domRect","getBoundingClientRect","Array","from","find","child","getAttribute","content","text","textContent","iconWidthWithMargin","width","Number","getComputedStyle","marginRight","slice","marginLeft","keyDownHandler","useCallback","event","defaultPrevented","clickHandler","createElement","display","flexDirection","alignItems","onKeyDown","onClick","Boolean","fontWeight","undefined","displayName"],"sources":["/Users/steve/Documents/repos/github/api-insights/node_modules/@primer/react/lib-esm/UnderlineNav/UnderlineNavItem.js"],"sourcesContent":["import React, { forwardRef, useRef, useContext } from 'react';\nimport Box from '../Box/Box.js';\nimport '@styled-system/css';\nimport merge from 'deepmerge';\nimport { UnderlineNavContext } from './UnderlineNavContext.js';\nimport CounterLabel from '../CounterLabel/CounterLabel.js';\nimport { getLinkStyles, iconWrapStyles, counterStyles } from './styles.js';\nimport { LoadingCounter } from './LoadingCounter.js';\nimport useIsomorphicLayoutEffect from '../utils/useIsomorphicLayoutEffect.js';\nimport { defaultSxProp } from '../utils/defaultSxProp.js';\nimport Link from '../Link/Link.js';\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// adopted from React.AnchorHTMLAttributes\n\nconst UnderlineNavItem = /*#__PURE__*/forwardRef(({\n  sx: sxProp = defaultSxProp,\n  as: Component = 'a',\n  href = '#',\n  children,\n  counter,\n  onSelect,\n  'aria-current': ariaCurrent,\n  icon: Icon,\n  ...props\n}, forwardedRef) => {\n  const backupRef = useRef(null);\n  const ref = forwardedRef !== null && forwardedRef !== void 0 ? forwardedRef : backupRef;\n  const {\n    theme,\n    setChildrenWidth,\n    setNoIconChildrenWidth,\n    loadingCounters,\n    iconsVisible\n  } = useContext(UnderlineNavContext);\n  useIsomorphicLayoutEffect(() => {\n    if (ref.current) {\n      const domRect = ref.current.getBoundingClientRect();\n      const icon = Array.from(ref.current.children).find(child => child.getAttribute('data-component') === 'icon');\n      const content = Array.from(ref.current.children).find(child => child.getAttribute('data-component') === 'text');\n      const text = content.textContent;\n      const iconWidthWithMargin = icon ? icon.getBoundingClientRect().width + Number(getComputedStyle(icon).marginRight.slice(0, -2)) + Number(getComputedStyle(icon).marginLeft.slice(0, -2)) : 0;\n      setChildrenWidth({\n        text,\n        width: domRect.width\n      });\n      setNoIconChildrenWidth({\n        text,\n        width: domRect.width - iconWidthWithMargin\n      });\n    }\n  }, [ref, setChildrenWidth, setNoIconChildrenWidth]);\n  const keyDownHandler = React.useCallback(event => {\n    if ((event.key === ' ' || event.key === 'Enter') && !event.defaultPrevented && typeof onSelect === 'function') {\n      onSelect(event);\n    }\n  }, [onSelect]);\n  const clickHandler = React.useCallback(event => {\n    if (!event.defaultPrevented && typeof onSelect === 'function') {\n      onSelect(event);\n    }\n  }, [onSelect]);\n  return /*#__PURE__*/React.createElement(Box, {\n    as: \"li\",\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/React.createElement(Link, _extends({\n    ref: ref,\n    as: Component,\n    href: href,\n    \"aria-current\": ariaCurrent,\n    onKeyDown: keyDownHandler,\n    onClick: clickHandler,\n    sx: merge(getLinkStyles(theme, ariaCurrent), sxProp)\n  }, props), iconsVisible && Icon && /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"icon\",\n    sx: iconWrapStyles\n  }, /*#__PURE__*/React.createElement(Icon, null)), children && /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"text\",\n    \"data-content\": children,\n    sx: Boolean(ariaCurrent) && ariaCurrent !== 'false' ? {\n      fontWeight: 600\n    } : {}\n  }, children), loadingCounters ? /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"counter\",\n    sx: counterStyles\n  }, /*#__PURE__*/React.createElement(LoadingCounter, null)) : counter !== undefined && /*#__PURE__*/React.createElement(Box, {\n    as: \"span\",\n    \"data-component\": \"counter\",\n    sx: counterStyles\n  }, /*#__PURE__*/React.createElement(CounterLabel, null, counter))));\n});\nUnderlineNavItem.displayName = 'UnderlineNavItem';\n\nexport { UnderlineNavItem };\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,MAAM,EAAEC,UAAU,QAAQ,OAAO;AAC7D,OAAOC,GAAG,MAAM,eAAe;AAC/B,OAAO,oBAAoB;AAC3B,OAAOC,KAAK,MAAM,WAAW;AAC7B,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,OAAOC,YAAY,MAAM,iCAAiC;AAC1D,SAASC,aAAa,EAAEC,cAAc,EAAEC,aAAa,QAAQ,aAAa;AAC1E,SAASC,cAAc,QAAQ,qBAAqB;AACpD,OAAOC,yBAAyB,MAAM,uCAAuC;AAC7E,SAASC,aAAa,QAAQ,2BAA2B;AACzD,OAAOC,IAAI,MAAM,iBAAiB;AAElC,SAASC,QAAQA,CAAA,EAAG;EAAEA,QAAQ,GAAGC,MAAM,CAACC,MAAM,GAAGD,MAAM,CAACC,MAAM,CAACC,IAAI,CAAC,CAAC,GAAG,UAAUC,MAAM,EAAE;IAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;MAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAC,CAAC;MAAE,KAAK,IAAII,GAAG,IAAID,MAAM,EAAE;QAAE,IAAIP,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAEC,GAAG,CAAC,EAAE;UAAEL,MAAM,CAACK,GAAG,CAAC,GAAGD,MAAM,CAACC,GAAG,CAAC;QAAE;MAAE;IAAE;IAAE,OAAOL,MAAM;EAAE,CAAC;EAAE,OAAOJ,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEP,SAAS,CAAC;AAAE;;AAElV;;AAEA,MAAMQ,gBAAgB,GAAG,aAAa5B,UAAU,CAAC,CAAC;EAChD6B,EAAE,EAAEC,MAAM,GAAGlB,aAAa;EAC1BmB,EAAE,EAAEC,SAAS,GAAG,GAAG;EACnBC,IAAI,GAAG,GAAG;EACVC,QAAQ;EACRC,OAAO;EACPC,QAAQ;EACR,cAAc,EAAEC,WAAW;EAC3BC,IAAI,EAAEC,IAAI;EACV,GAAGC;AACL,CAAC,EAAEC,YAAY,KAAK;EAClB,MAAMC,SAAS,GAAGzC,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM0C,GAAG,GAAGF,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAGA,YAAY,GAAGC,SAAS;EACvF,MAAM;IACJE,KAAK;IACLC,gBAAgB;IAChBC,sBAAsB;IACtBC,eAAe;IACfC;EACF,CAAC,GAAG9C,UAAU,CAACG,mBAAmB,CAAC;EACnCM,yBAAyB,CAAC,MAAM;IAC9B,IAAIgC,GAAG,CAACM,OAAO,EAAE;MACf,MAAMC,OAAO,GAAGP,GAAG,CAACM,OAAO,CAACE,qBAAqB,CAAC,CAAC;MACnD,MAAMb,IAAI,GAAGc,KAAK,CAACC,IAAI,CAACV,GAAG,CAACM,OAAO,CAACf,QAAQ,CAAC,CAACoB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,YAAY,CAAC,gBAAgB,CAAC,KAAK,MAAM,CAAC;MAC5G,MAAMC,OAAO,GAAGL,KAAK,CAACC,IAAI,CAACV,GAAG,CAACM,OAAO,CAACf,QAAQ,CAAC,CAACoB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,YAAY,CAAC,gBAAgB,CAAC,KAAK,MAAM,CAAC;MAC/G,MAAME,IAAI,GAAGD,OAAO,CAACE,WAAW;MAChC,MAAMC,mBAAmB,GAAGtB,IAAI,GAAGA,IAAI,CAACa,qBAAqB,CAAC,CAAC,CAACU,KAAK,GAAGC,MAAM,CAACC,gBAAgB,CAACzB,IAAI,CAAC,CAAC0B,WAAW,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAGH,MAAM,CAACC,gBAAgB,CAACzB,IAAI,CAAC,CAAC4B,UAAU,CAACD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;MAC5LpB,gBAAgB,CAAC;QACfa,IAAI;QACJG,KAAK,EAAEX,OAAO,CAACW;MACjB,CAAC,CAAC;MACFf,sBAAsB,CAAC;QACrBY,IAAI;QACJG,KAAK,EAAEX,OAAO,CAACW,KAAK,GAAGD;MACzB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACjB,GAAG,EAAEE,gBAAgB,EAAEC,sBAAsB,CAAC,CAAC;EACnD,MAAMqB,cAAc,GAAGpE,KAAK,CAACqE,WAAW,CAACC,KAAK,IAAI;IAChD,IAAI,CAACA,KAAK,CAAC9C,GAAG,KAAK,GAAG,IAAI8C,KAAK,CAAC9C,GAAG,KAAK,OAAO,KAAK,CAAC8C,KAAK,CAACC,gBAAgB,IAAI,OAAOlC,QAAQ,KAAK,UAAU,EAAE;MAC7GA,QAAQ,CAACiC,KAAK,CAAC;IACjB;EACF,CAAC,EAAE,CAACjC,QAAQ,CAAC,CAAC;EACd,MAAMmC,YAAY,GAAGxE,KAAK,CAACqE,WAAW,CAACC,KAAK,IAAI;IAC9C,IAAI,CAACA,KAAK,CAACC,gBAAgB,IAAI,OAAOlC,QAAQ,KAAK,UAAU,EAAE;MAC7DA,QAAQ,CAACiC,KAAK,CAAC;IACjB;EACF,CAAC,EAAE,CAACjC,QAAQ,CAAC,CAAC;EACd,OAAO,aAAarC,KAAK,CAACyE,aAAa,CAACrE,GAAG,EAAE;IAC3C4B,EAAE,EAAE,IAAI;IACRF,EAAE,EAAE;MACF4C,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE;IACd;EACF,CAAC,EAAE,aAAa5E,KAAK,CAACyE,aAAa,CAAC3D,IAAI,EAAEC,QAAQ,CAAC;IACjD6B,GAAG,EAAEA,GAAG;IACRZ,EAAE,EAAEC,SAAS;IACbC,IAAI,EAAEA,IAAI;IACV,cAAc,EAAEI,WAAW;IAC3BuC,SAAS,EAAET,cAAc;IACzBU,OAAO,EAAEN,YAAY;IACrB1C,EAAE,EAAEzB,KAAK,CAACG,aAAa,CAACqC,KAAK,EAAEP,WAAW,CAAC,EAAEP,MAAM;EACrD,CAAC,EAAEU,KAAK,CAAC,EAAEQ,YAAY,IAAIT,IAAI,IAAI,aAAaxC,KAAK,CAACyE,aAAa,CAACrE,GAAG,EAAE;IACvE4B,EAAE,EAAE,MAAM;IACV,gBAAgB,EAAE,MAAM;IACxBF,EAAE,EAAErB;EACN,CAAC,EAAE,aAAaT,KAAK,CAACyE,aAAa,CAACjC,IAAI,EAAE,IAAI,CAAC,CAAC,EAAEL,QAAQ,IAAI,aAAanC,KAAK,CAACyE,aAAa,CAACrE,GAAG,EAAE;IAClG4B,EAAE,EAAE,MAAM;IACV,gBAAgB,EAAE,MAAM;IACxB,cAAc,EAAEG,QAAQ;IACxBL,EAAE,EAAEiD,OAAO,CAACzC,WAAW,CAAC,IAAIA,WAAW,KAAK,OAAO,GAAG;MACpD0C,UAAU,EAAE;IACd,CAAC,GAAG,CAAC;EACP,CAAC,EAAE7C,QAAQ,CAAC,EAAEa,eAAe,GAAG,aAAahD,KAAK,CAACyE,aAAa,CAACrE,GAAG,EAAE;IACpE4B,EAAE,EAAE,MAAM;IACV,gBAAgB,EAAE,SAAS;IAC3BF,EAAE,EAAEpB;EACN,CAAC,EAAE,aAAaV,KAAK,CAACyE,aAAa,CAAC9D,cAAc,EAAE,IAAI,CAAC,CAAC,GAAGyB,OAAO,KAAK6C,SAAS,IAAI,aAAajF,KAAK,CAACyE,aAAa,CAACrE,GAAG,EAAE;IAC1H4B,EAAE,EAAE,MAAM;IACV,gBAAgB,EAAE,SAAS;IAC3BF,EAAE,EAAEpB;EACN,CAAC,EAAE,aAAaV,KAAK,CAACyE,aAAa,CAAClE,YAAY,EAAE,IAAI,EAAE6B,OAAO,CAAC,CAAC,CAAC,CAAC;AACrE,CAAC,CAAC;AACFP,gBAAgB,CAACqD,WAAW,GAAG,kBAAkB;AAEjD,SAASrD,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}