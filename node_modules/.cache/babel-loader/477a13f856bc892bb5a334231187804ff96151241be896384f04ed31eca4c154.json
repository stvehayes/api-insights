{"ast":null,"code":"import clsx from 'clsx';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { get } from '../constants.js';\nimport Box from '../Box/Box.js';\nimport sx from '../sx.js';\nimport { DEFAULT_AVATAR_SIZE } from '../Avatar/Avatar.js';\nimport { isResponsiveValue } from '../hooks/useResponsiveValue.js';\nimport { getBreakpointDeclarations } from '../utils/getBreakpointDeclarations.js';\nimport { defaultSxProp } from '../utils/defaultSxProp.js';\nimport merge from 'deepmerge';\nconst AvatarStackWrapper = styled.span.withConfig({\n  displayName: \"AvatarStack__AvatarStackWrapper\",\n  componentId: \"sc-4pdg6v-0\"\n})([\"--avatar-border-width:1px;--avatar-two-margin:calc(var(--avatar-stack-size) * -0.55);--avatar-three-margin:calc(var(--avatar-stack-size) * -0.85);display:flex;position:relative;height:var(--avatar-stack-size);min-width:var(--avatar-stack-size);.pc-AvatarStackBody{display:flex;position:absolute;}.pc-AvatarItem{--avatar-size:var(--avatar-stack-size);flex-shrink:0;height:var(--avatar-stack-size);width:var(--avatar-stack-size);box-shadow:0 0 0 var(--avatar-border-width) \", \";position:relative;overflow:hidden;&:first-child{margin-left:0;z-index:10;}&:nth-child(n + 2){margin-left:var(--avatar-two-margin);z-index:9;}&:nth-child(n + 3){margin-left:var(--avatar-three-margin);opacity:\", \"%;z-index:8;}&:nth-child(n + 4){opacity:\", \"%;z-index:7;}&:nth-child(n + 5){opacity:\", \"%;z-index:6;}&:nth-child(n + 6){opacity:0;visibility:hidden;}}&.pc-AvatarStack--two{min-width:calc( var(--avatar-stack-size) + calc(var(--avatar-stack-size) + var(--avatar-two-margin)) + var(--avatar-border-width) );}&.pc-AvatarStack--three{min-width:calc( var(--avatar-stack-size) + calc( calc(var(--avatar-stack-size) + var(--avatar-two-margin)) + calc(var(--avatar-stack-size) + var(--avatar-three-margin)) ) );}&.pc-AvatarStack--three-plus{min-width:calc( var(--avatar-stack-size) + calc( calc(var(--avatar-stack-size) + var(--avatar-two-margin)) + calc(var(--avatar-stack-size) + var(--avatar-three-margin)) * 2 ) );}&.pc-AvatarStack--right{justify-content:flex-end;.pc-AvatarItem{margin-left:0 !important;&:first-child{margin-right:0;}&:nth-child(n + 2){margin-right:var(--avatar-two-margin);}&:nth-child(n + 3){margin-right:var(--avatar-three-margin);}}.pc-AvatarStackBody{flex-direction:row-reverse;&:not(.pc-AvatarStack--disableExpand):hover{.pc-AvatarItem{margin-right:\", \"!important;margin-left:0 !important;&:first-child{margin-right:0 !important;}}}}}.pc-AvatarStackBody:not(.pc-AvatarStack--disableExpand):hover{width:auto;.pc-AvatarItem{margin-left:\", \";opacity:100%;visibility:visible;\", \" transition:margin 0.2s ease-in-out,opacity 0.2s ease-in-out,visibility 0.2s ease-in-out,box-shadow 0.1s ease-in-out;&:first-child{margin-left:0;}}}.pc-AvatarStack--disableExpand{position:relative;}\", \";\"], props => props.count === 1 ? get('colors.avatar.border') : get('colors.canvas.default'), 100 - 3 * 15, 100 - 4 * 15, 100 - 5 * 15, get('space.1'), get('space.1'), props => props.count === 1 ? '' : `box-shadow: 0 0 0 4px ${get('colors.canvas.default')};`, sx);\nconst transformChildren = children => {\n  return React.Children.map(children, child => {\n    if (! /*#__PURE__*/React.isValidElement(child)) return child;\n    return /*#__PURE__*/React.cloneElement(child, {\n      ...child.props,\n      className: clsx(child.props.className, 'pc-AvatarItem')\n    });\n  });\n};\nconst AvatarStack = ({\n  children,\n  alignRight,\n  disableExpand,\n  size,\n  sx: sxProp = defaultSxProp\n}) => {\n  const count = React.Children.count(children);\n  const wrapperClassNames = clsx({\n    'pc-AvatarStack--two': count === 2,\n    'pc-AvatarStack--three': count === 3,\n    'pc-AvatarStack--three-plus': count > 3,\n    'pc-AvatarStack--right': alignRight\n  });\n  const bodyClassNames = clsx('pc-AvatarStackBody', {\n    'pc-AvatarStack--disableExpand': disableExpand\n  });\n  const getAvatarChildSizes = () => {\n    const avatarSizeMap = {\n      narrow: [],\n      regular: [],\n      wide: []\n    };\n    return React.Children.toArray(children).reduce((acc, child) => {\n      // if child is not an Avatar, return the default avatar sizes from the accumulator\n      if (! /*#__PURE__*/React.isValidElement(child)) return acc;\n      for (const responsiveKey of Object.keys(avatarSizeMap)) {\n        // if the child has responsive `size` prop values, push the value to the appropriate viewport property in the avatarSizeMap\n        if (isResponsiveValue(child.props.size)) {\n          avatarSizeMap[responsiveKey].push(child.props.size[responsiveKey] || DEFAULT_AVATAR_SIZE);\n        }\n        // otherwise, the size is a number (or undefined), so push the value to all viewport properties in the avatarSizeMap\n        else {\n          avatarSizeMap[responsiveKey].push(child.props.size || DEFAULT_AVATAR_SIZE);\n        }\n\n        // set the smallest size in each viewport property as the value for that viewport property in the accumulator\n        acc[responsiveKey] = Math.min(...avatarSizeMap[responsiveKey]);\n      }\n      return acc;\n    }, {\n      narrow: DEFAULT_AVATAR_SIZE,\n      regular: DEFAULT_AVATAR_SIZE,\n      wide: DEFAULT_AVATAR_SIZE\n    });\n  };\n  const getResponsiveAvatarSizeStyles = () => {\n    // if there is no size set on the AvatarStack, use the `size` props of the Avatar children to set the `--avatar-stack-size` CSS variable\n    if (!size) {\n      return getBreakpointDeclarations(getAvatarChildSizes(), '--avatar-stack-size', value => `${value}px`);\n    }\n\n    // if the `size` prop is set and responsive, set the `--avatar-stack-size` CSS variable for each viewport\n    if (isResponsiveValue(size)) {\n      return getBreakpointDeclarations(size, '--avatar-stack-size', value => `${value || DEFAULT_AVATAR_SIZE}px`);\n    }\n\n    // if the `size` prop is set and not responsive, it is a number, so we can just set the `--avatar-stack-size` CSS variable to that number\n    return {\n      '--avatar-stack-size': `${size}px`\n    };\n  };\n  const avatarStackSx = merge(getResponsiveAvatarSizeStyles(), sxProp);\n  return /*#__PURE__*/React.createElement(AvatarStackWrapper, {\n    count: count,\n    className: wrapperClassNames,\n    sx: avatarStackSx\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: bodyClassNames\n  }, \" \", transformChildren(children)));\n};\nAvatarStack.displayName = \"AvatarStack\";\nexport { AvatarStack as default };","map":{"version":3,"names":["clsx","React","styled","get","Box","sx","DEFAULT_AVATAR_SIZE","isResponsiveValue","getBreakpointDeclarations","defaultSxProp","merge","AvatarStackWrapper","span","withConfig","displayName","componentId","props","count","transformChildren","children","Children","map","child","isValidElement","cloneElement","className","AvatarStack","alignRight","disableExpand","size","sxProp","wrapperClassNames","bodyClassNames","getAvatarChildSizes","avatarSizeMap","narrow","regular","wide","toArray","reduce","acc","responsiveKey","Object","keys","push","Math","min","getResponsiveAvatarSizeStyles","value","avatarStackSx","createElement","default"],"sources":["/Users/steve/Documents/repos/github/licensing-report/node_modules/@primer/react/lib-esm/AvatarStack/AvatarStack.js"],"sourcesContent":["import clsx from 'clsx';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { get } from '../constants.js';\nimport Box from '../Box/Box.js';\nimport sx from '../sx.js';\nimport { DEFAULT_AVATAR_SIZE } from '../Avatar/Avatar.js';\nimport { isResponsiveValue } from '../hooks/useResponsiveValue.js';\nimport { getBreakpointDeclarations } from '../utils/getBreakpointDeclarations.js';\nimport { defaultSxProp } from '../utils/defaultSxProp.js';\nimport merge from 'deepmerge';\n\nconst AvatarStackWrapper = styled.span.withConfig({\n  displayName: \"AvatarStack__AvatarStackWrapper\",\n  componentId: \"sc-4pdg6v-0\"\n})([\"--avatar-border-width:1px;--avatar-two-margin:calc(var(--avatar-stack-size) * -0.55);--avatar-three-margin:calc(var(--avatar-stack-size) * -0.85);display:flex;position:relative;height:var(--avatar-stack-size);min-width:var(--avatar-stack-size);.pc-AvatarStackBody{display:flex;position:absolute;}.pc-AvatarItem{--avatar-size:var(--avatar-stack-size);flex-shrink:0;height:var(--avatar-stack-size);width:var(--avatar-stack-size);box-shadow:0 0 0 var(--avatar-border-width) \", \";position:relative;overflow:hidden;&:first-child{margin-left:0;z-index:10;}&:nth-child(n + 2){margin-left:var(--avatar-two-margin);z-index:9;}&:nth-child(n + 3){margin-left:var(--avatar-three-margin);opacity:\", \"%;z-index:8;}&:nth-child(n + 4){opacity:\", \"%;z-index:7;}&:nth-child(n + 5){opacity:\", \"%;z-index:6;}&:nth-child(n + 6){opacity:0;visibility:hidden;}}&.pc-AvatarStack--two{min-width:calc( var(--avatar-stack-size) + calc(var(--avatar-stack-size) + var(--avatar-two-margin)) + var(--avatar-border-width) );}&.pc-AvatarStack--three{min-width:calc( var(--avatar-stack-size) + calc( calc(var(--avatar-stack-size) + var(--avatar-two-margin)) + calc(var(--avatar-stack-size) + var(--avatar-three-margin)) ) );}&.pc-AvatarStack--three-plus{min-width:calc( var(--avatar-stack-size) + calc( calc(var(--avatar-stack-size) + var(--avatar-two-margin)) + calc(var(--avatar-stack-size) + var(--avatar-three-margin)) * 2 ) );}&.pc-AvatarStack--right{justify-content:flex-end;.pc-AvatarItem{margin-left:0 !important;&:first-child{margin-right:0;}&:nth-child(n + 2){margin-right:var(--avatar-two-margin);}&:nth-child(n + 3){margin-right:var(--avatar-three-margin);}}.pc-AvatarStackBody{flex-direction:row-reverse;&:not(.pc-AvatarStack--disableExpand):hover{.pc-AvatarItem{margin-right:\", \"!important;margin-left:0 !important;&:first-child{margin-right:0 !important;}}}}}.pc-AvatarStackBody:not(.pc-AvatarStack--disableExpand):hover{width:auto;.pc-AvatarItem{margin-left:\", \";opacity:100%;visibility:visible;\", \" transition:margin 0.2s ease-in-out,opacity 0.2s ease-in-out,visibility 0.2s ease-in-out,box-shadow 0.1s ease-in-out;&:first-child{margin-left:0;}}}.pc-AvatarStack--disableExpand{position:relative;}\", \";\"], props => props.count === 1 ? get('colors.avatar.border') : get('colors.canvas.default'), 100 - 3 * 15, 100 - 4 * 15, 100 - 5 * 15, get('space.1'), get('space.1'), props => props.count === 1 ? '' : `box-shadow: 0 0 0 4px ${get('colors.canvas.default')};`, sx);\nconst transformChildren = children => {\n  return React.Children.map(children, child => {\n    if (! /*#__PURE__*/React.isValidElement(child)) return child;\n    return /*#__PURE__*/React.cloneElement(child, {\n      ...child.props,\n      className: clsx(child.props.className, 'pc-AvatarItem')\n    });\n  });\n};\nconst AvatarStack = ({\n  children,\n  alignRight,\n  disableExpand,\n  size,\n  sx: sxProp = defaultSxProp\n}) => {\n  const count = React.Children.count(children);\n  const wrapperClassNames = clsx({\n    'pc-AvatarStack--two': count === 2,\n    'pc-AvatarStack--three': count === 3,\n    'pc-AvatarStack--three-plus': count > 3,\n    'pc-AvatarStack--right': alignRight\n  });\n  const bodyClassNames = clsx('pc-AvatarStackBody', {\n    'pc-AvatarStack--disableExpand': disableExpand\n  });\n  const getAvatarChildSizes = () => {\n    const avatarSizeMap = {\n      narrow: [],\n      regular: [],\n      wide: []\n    };\n    return React.Children.toArray(children).reduce((acc, child) => {\n      // if child is not an Avatar, return the default avatar sizes from the accumulator\n      if (! /*#__PURE__*/React.isValidElement(child)) return acc;\n      for (const responsiveKey of Object.keys(avatarSizeMap)) {\n        // if the child has responsive `size` prop values, push the value to the appropriate viewport property in the avatarSizeMap\n        if (isResponsiveValue(child.props.size)) {\n          avatarSizeMap[responsiveKey].push(child.props.size[responsiveKey] || DEFAULT_AVATAR_SIZE);\n        }\n        // otherwise, the size is a number (or undefined), so push the value to all viewport properties in the avatarSizeMap\n        else {\n          avatarSizeMap[responsiveKey].push(child.props.size || DEFAULT_AVATAR_SIZE);\n        }\n\n        // set the smallest size in each viewport property as the value for that viewport property in the accumulator\n        acc[responsiveKey] = Math.min(...avatarSizeMap[responsiveKey]);\n      }\n      return acc;\n    }, {\n      narrow: DEFAULT_AVATAR_SIZE,\n      regular: DEFAULT_AVATAR_SIZE,\n      wide: DEFAULT_AVATAR_SIZE\n    });\n  };\n  const getResponsiveAvatarSizeStyles = () => {\n    // if there is no size set on the AvatarStack, use the `size` props of the Avatar children to set the `--avatar-stack-size` CSS variable\n    if (!size) {\n      return getBreakpointDeclarations(getAvatarChildSizes(), '--avatar-stack-size', value => `${value}px`);\n    }\n\n    // if the `size` prop is set and responsive, set the `--avatar-stack-size` CSS variable for each viewport\n    if (isResponsiveValue(size)) {\n      return getBreakpointDeclarations(size, '--avatar-stack-size', value => `${value || DEFAULT_AVATAR_SIZE}px`);\n    }\n\n    // if the `size` prop is set and not responsive, it is a number, so we can just set the `--avatar-stack-size` CSS variable to that number\n    return {\n      '--avatar-stack-size': `${size}px`\n    };\n  };\n  const avatarStackSx = merge(getResponsiveAvatarSizeStyles(), sxProp);\n  return /*#__PURE__*/React.createElement(AvatarStackWrapper, {\n    count: count,\n    className: wrapperClassNames,\n    sx: avatarStackSx\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: bodyClassNames\n  }, \" \", transformChildren(children)));\n};\nAvatarStack.displayName = \"AvatarStack\";\n\nexport { AvatarStack as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}